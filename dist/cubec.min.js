!(function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.cubec={})})(this,(function(t){"use strict";function h(){return self||window||this}h.VERSION="4.2.6";var e={},n=[],r="",i=n.slice,a=e.toString,o=r.trim,c=n.concat,p=eval,u=Object.freeze({}),s=h();function l(t,e){h[e]=function(){return t}}function f(e,t){h[t]=function(t){return e[We(X(t).toLowerCase())]||e.default}}function d(n,t,r){return ot(t,r?function(t,e){(O(r)?ht(r,e):null!=r&&e===r)||(n[e]=t)}:function(t,e){n[e]=t}),n}function v(t,e,n){return d(d(A(t)?[]:{},t),e,n)}function m(t,e,n){return x(e)?Object.defineProperties(t,e):Object.defineProperty(t,e,n)}function g(t){var e=tt(arguments,1);return function(){return t.apply(null,e.concat(tt(arguments)))}}function y(t,e){return function(){return(e.apply(null,arguments)?t:B).apply(null,arguments)}}function b(t){return"function"==typeof t}function x(t){return!!t&&("object"==typeof t||b(t))}function _(t){return"string"==typeof t||t+""===t}function w(t){return"boolean"==typeof t&&!!t===t}function E(t){return"number"==typeof t&&t===+t}function T(t){return null==t||"object"!=typeof t}function S(t){return t&&C(t,"RegExp")}var O=Array.isArray,k=/^[a-z$_]+[a-z$_0-9]*$/i;function N(t){return null!=t&&k.test(t)}function j(t){return 0 in arguments&&void 0!==t}function C(t,e){return a.call(t)==="[object "+e+"]"}function A(t){return!!t&&!b(t)&&x(t)&&E(t.length)}function D(t){return"number"==typeof t&&t!=t}function P(t){return+t===t&&t%1==0}function L(t){return+t===t&&t%1!=0}function M(t){return t instanceof Date}function I(t){return _(t)?!Fn(t):T(t)||!Fn(t)}function R(t){return x(t)&&0<t.nodeType&&(t instanceof Node||t instanceof Element)}function q(t){return t instanceof Element}function H(t){return t instanceof Node}function F(t){var e=Function.prototype.toString,n=Object.prototype.hasOwnProperty,r=RegExp("^"+e.call(n).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");try{var i=e.call(t);return r.test(i)}catch(t){return!1}}var $=["array","function","null","undefined","arguments","boolean","string","number","date","regexp","nodeList","htmlcollection"];function U(t){var e=[O(t),b(t),null===t,void 0===t,C(t,"Arguments"),C(t,"Boolean"),C(t,"String"),C(t,"Number"),C(t,"Date"),C(t,"RegExp"),C(t,"NodeList"),C(t,"HTMLCollection")];return $[xt(e,At(!0))]||"object"}function z(t){return t}function J(){}function B(t){return t}function X(t){return null!=t?b(t.toString)?t.toString():t+"":""}function G(t){return+t&&"number"==typeof+t?+t:t>>0}function W(t){var e=parseInt(~t.indexOf("#")?t.substr(1):t,16);return{r:e>>16,g:(65280&e)>>8,b:255&e}}function K(t){return((1<<24)+(t.r<<16)+(t.g<<8)+t.b).toString(16).substr(1)}function Y(t){var e=[];return x(t)||C(t,"String")?e=Un(t):null!=t&&e.push(t),e}function V(t){return-G(t)}function Z(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function Q(){return tt(arguments)}function tt(t,e,n){return A(t)?i.call(t,e,n):[]}function et(t){return null!=t?O(t)||_(t)?Ot(Object.keys(t),G):Object.keys(t):[]}function nt(t,e){return void 0===e?t:function(){return t.apply(e,arguments)}}function rt(t,e,n){var r,i=t.length,o=nt(e,n);for(r=0;r<i;r++)o(t[r],r,t);return t}function it(e,n,t){return rt(et(e),(function(t){n.call(this,e[t],t,e)}),t),e}function ot(t,e,n){return A(t)?rt(t,e,n):x(t)&&null!==t?it(t,e,n):t}function at(t,e){if(A(t))return tt(t);if(x(t)&&e){var n,r,i=et(t),o={};for(n=i.length;n--;)o[r=i[n]]=t[r];return o}return T(t)?t:JSON.parse(JSON.stringify(t))}var ct=function(){};function ut(t){var e=t;if(A(t))e=tt(t).map(y(ut,Jn(T)));else if(!(T(t)||t instanceof Node)){it(t,(function(t,e){this[e]=T(t)?t:ut(t)}),e=(ct.prototype=t.constructor.prototype)!==Object.prototype?new ct:{})}return e}function st(t,e){return t.test(e)}function lt(t,e,n,r){var i=2 in arguments,o=nt(e,r);return n=i?n:Tt(t),tt(t,i?0:1).reduce(o,n)}function ft(t,e,n,r){var i=2 in arguments,o=nt(e,r);return n=i?n:St(t),tt(t,0,i?void 0:-1).reduceRight(o,n)}function ht(t,e,n){var r,i=S(e)?st:n?we:jt,o=!1;if(A(t))for(r=t.length;r--&&!(o=i(e,t[r])););else if(x(t)){var a=et(t);for(r=a.length;r--&&!(o=i(e,t[a[r]])););}return o}function pt(t,e,n){return ht(et(t),e,n)}function dt(t,e,n){return n?t.splice(e,1):delete t[e]}function vt(t,e,n){for(var r=S(e)?st:n?we:jt,i=O(t),o=et(t),a=0;a<o.length;a++)r(e,t[o[a]])&&dt(t,o[a],i)&&i&&(o.pop(),a--);return t}function mt(t,e,r){var n=[],i=S(e)?g(st,e):b(e)?e:At(e);return ot(at(t),(function(t,e,n){i.apply(n,arguments)&&this.push(r?e:t)}),n),n}function gt(t,e,n){return mt(t,Jn(e),n)}function yt(t,e){var n,r,i=!0;for(r=(n=et(t)).length;r--&&(i=e(t[n[r]],n[r],t)););return i}function bt(t,e){var n,r,i=!1;for(r=(n=et(t)).length;r--&&!(i=e(t[n[r]],n[r],t)););return i}function xt(t,e){var n=mt(t,e,!0);return 1===n.length?n.pop():n.length?n:null}function _t(t,e){var n=xt(t,e);return T(n)?n:n.pop()}function wt(t,e){var n=xt(t,e);return T(n)?n:n.shift()}function Et(t,e){var n=wt(t,e);return null===n?n:t[n]}function Tt(t){return A(t)?t[0]:t}function St(t){return A(t)?t[t.length-1]:t}function Ot(t,r){var e=A(t),i=e?[]:{};return(e?rt:it)(t,(function(t,e,n){i[e]=this?r.call(n,t,e,n):t[r]}),b(r)),i}function kt(e,n){var r={};return it(e,(function(t){r[n.apply(e,arguments)]=t})),r}function Nt(t,e){var n,r,i=[],o=S(e)?g(st,e):b(e)?e:At(e);if(O(t))for(n=0,r=t.length;n<r;n++)o.call(t,t[n],n,t)&&i.push(t.splice(n,1).pop(n--));else if(x(t)){var a;for(a in t)if(o.call(t,t[a],a,t)){var c={};c[a]=t[a],i.push(c),delete t[a]}}return i}function jt(t,e){return t===e}function Ct(t,e){return t!==e}function At(e){return function(t){return t===e}}function Dt(t){for(var e={},n=E(Tt(t)),r=0;r<t.length;r++)e[t[r]]||(e[t[r]]=!0);return Ot(et(e),n?G:B)}function Pt(t,e){for(var n,r=tt(t),i=e?we:jt,o=[],a=0;a<r.length;a++)if(void 0!==r[a])for(o.push(r[a]),n=a+1;n<r.length;n++)i(r[a],r[n])&&(r[n]=void 0);return o}function Lt(t,e){var n=b(e);return Ot(t,(function(t){return(n?e:t[e]).apply(t,arguments)}))}function Mt(t,e,n){var r=[],i=X(e);return ot(t,(function(t){var e=In(t,i,n);return void 0!==e&&this.push(e)}),r),r}function It(t,n){var e={},r=b(n);return ot(t,(function(t){var e=r?n(t):In(t,n);e&&(this[e]?this[e].push(t):this[e]=[t])}),e),e}function Rt(t,n){var r={},i=b(n);return ot(t,(function(t){var e=i?n(t):In(t,n);e&&(r[e]?this[e]+=1:this[e]=1)}),r),r}function qt(t){var e,n,r=[],i=et(t);for(e=0,n=i.length;e<n;e++)r.push([i[e],t[i[e]]]);return r}function Ht(t){var e,n,r={};for(e=0,n=t.length;e<n;e++)r[t[e][0]]=t[e][1];return r}function Ft(t){return mt(t,Jn(g(ht,ie(tt(arguments,1),!0))))}function $t(t){var n=ie(tt(arguments,1),!0);return mt(t,(function(t,e){return!ht(n,e)}))}var Ut=vt;function zt(t){for(var e,n=t.length,r=new Array(n),i=0;i<n;i++)(e=se(0,i))!==i&&(r[i]=r[e]),r[e]=t[i];return r}function Jt(t,e){var n,r,i=parseInt(G(e))||2,o=[];for(n=0,r=t.length;n<r;n+=i)o.push(t.slice(n,n+i));return o}function Bt(t){return mt(t,B)}function Xt(){return c.apply([],arguments)}function Gt(c){return function(){var t,e,n,r=[],i=!0,o=Xt.apply([],arguments),a=c?we:jt;for(t=0;t<o.length;t++){for(n=o[t],e=0;e<o.length;e++)if(t!==e&&a(n,o[e])){i=!1;break}i&&r.push(n),i=!0}return r}}var Wt=Gt(),Kt=Gt(!0);function Yt(c){return function(){var t,e,n,r,i=tt(arguments[0]),o=arguments.length,a=[];for(t=0;t<i.length;t++)if(r=!0,!ht(a,n=i[t],c)){for(e=1;e<o;e++)if(!ht(arguments[e],n,c)){r=!1;break}r&&a.push(n)}return a}}var Vt=Yt(),Zt=Yt(!0);function Qt(t,e){return!T(t)&&!T(e)&&(C(t,"Object")&&C(e,"Object")||A(t)&&A(e))}function te(t){var e,n=tt(arguments);return O(t)?lt(n,(function(i,t){return rt(t,(function(t,e){var n=i[e],r=t;i[e]=Qt(n,r)?te(n,r):r})),e=i}),[]):x(t)&&lt(n,(function(r,i){return rt(et(i),(function(t){var e=r[t],n=i[t];r[t]=Qt(e,n)?te(e,n):n})),e=r}),{}),e}function ee(t,e){return tt(t,G(e)||1)}function ne(t,e){return tt(t,0,-(G(e)||1))}function re(t,e){var n,r=tt(t),i=void 0===this?"shift":"pop",o=S(e)?g(st,e):b(e)?e:At(e);for(n=r.length;n--&&!o(r[i]()););return r}function ie(){var t=Xt.apply([],arguments),n=!!C(St(t),"Boolean")&&t.pop();return lt(tt(t),(function(t,e){return t.concat(n&&O(e)?ie(e,n):e)}),[])}var oe="0123456789",ae="abcdefghijklmnopqrstuvwxyz",ce=ae.toUpperCase(),ue="~`!@#$%^&*(){}[]-+=_|/.,><:;";function se(t,e){return E(e)||(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}function le(t,e,n){E(e)||(e=t,t=0);var r=Math.random()*(e-t)+t;return G(n)?+r.toFixed(n):r}function fe(t){return 100*Math.random()<Math.max(1,Math.min(G(t||50),99))}function he(t,e){var n=t?oe+ue:"";return(n=(e?ce:ae)+n).charAt(se(0,Fn(n)-1))}function pe(t){return(t?"#":"")+K({r:se(0,255),g:se(0,255),b:se(0,255)})}function de(t,e,n){for(var r=G(t)||2,i=[];r--;)i[r]=he(e,n);return i.join("")}function ve(){var t=$n();return new Date(t+(fe()?B:V)(se(0,t)))}function me(t){return se(1,(t=0<G(t)?G(t):2)%2==0?t:t+1)}function ge(t,e){var n=tt(arguments,2),r=Er[e]||Er.default;return Ot(ir(t,0),(function(){return r.apply(null,n)}))}function ye(i){var o=tt(arguments,1);return function(){for(var t=0,e=o.slice(),n=0,r=e.length;n<r;n++)e[n]===h&&(e[n]=arguments[t++]);for(;t<arguments.length;)e.push(arguments[t++]);return i.apply(this,e)}}function be(t,e){var n;return function(){return 0<--t?n=e.apply(this,arguments):e=null,n}}function xe(t,e){return ye(be,(G(e)||1)+1)(t)}function _e(t){return xe(t)}function we(t,e){if(t===e||a.call(t)!==a.call(e)||T(t)&&T(e))return t===e;if(t.toString()===e.toString())if(O(t)){if(t.length===e.length){for(var n=t.length;n--;)if(!we(t[n],e[n]))return!1;return!0}}else{var r=et(t),i=et(e),o=r.length;if(r.length===i.length){for(;o--;)if(!we(t[r[o]],e[r[o]]))return!1;return!0}}return!1}var Ee=/[\t\r\n\f\x20]/g,Te=/([^&=]+)=?([^&]*)/g;function Se(t){var e={};return rt(t,(function(t){e[t.name]=t.value})),e}function Oe(t){return decodeURIComponent(t.replace(/\+/g," "))}function ke(t){return encodeURIComponent(t).replace(" ","%20")}function Ne(t){for(var e,n=X(t).split("#").shift(),r=n.indexOf("?"),i={},o=~r?n.substr(r+1):n;e=Te.exec(o);)i[Oe(e[1])]=Oe(e[2]);return delete i[o],i}function je(t){var e,n=at(t);for(e in n)n[e]=ke(x(n[e])?JSON.stringify(n[e]):n[e]);return JSON.stringify(n).replace(/["{}]/g,"").replace(/:/g,"=").replace(/,/g,"&").replace(Ee,"")}var Ce={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"$quot;","'":"&#x27;","`":"&#x60"},Ae={"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"',"&#x27;":"'","&#x60;":"`"},De=/\\|'|\r|\n|\u2028|\u2029/g,Pe={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Le=/[&<">'](?:(amp|lt|quot|gt|#39);)?/g,Me=/&((g|l|quo)t|amp|#39);/g,Ie=/<script\b[^>]*>(.*?)<\/script>/gi,Re=/<!--([\s\S]*?)-->/gi,qe=/[\t\r\n\f]/gim,He=/[A-Z]/g,Fe="[\\s\\x20\\xA0\\uFEFF]+",$e=new RegExp(Fe,"g"),Ue=new RegExp("^"+Fe,"g"),ze=new RegExp(Fe+"$","g"),Je=new RegExp(">"+Fe+"<","g"),Be=new RegExp("<"+Fe,"g"),Xe=new RegExp(Fe+">","g"),Ge=new RegExp("</"+Fe,"g");function We(t){return o.call(t)}function Ke(t){return t.replace(Ue,"")}function Ye(t){return t.replace(ze,"")}function Ve(t){var e=~t.search("-")?"-":~t.search("_")?"_":"";if(e){var n=1;for(e=t.split(e);n<e.length;n++)e[n]=Ze(e[n]);return e.join("")}return t}function Ze(t){return t.charAt(0).toUpperCase()+t.substr(1)}function Qe(t){return We(t).replace(qe,"").replace($e," ").replace(Je,"><").replace(Be,"<").replace(Xe,">").replace(Ge,"</")}function tn(t,e,n){var r=n?"toUpperCase":"toLowerCase",i=X(e)||"-";return t.replace(He,(function(t,e){return(0<e?i:"")+t[r]()}))}function en(t){return Ce[t]||t}function nn(t){return Ae[t]||t}function rn(t){return"\\"+Pe[t]}function on(t){return+t===t?t:X(t).replace(Le,en)}function an(t){return+t===t?t:X(t).replace(Me,nn)}function cn(t){return t.replace(Ie,"").replace(Re,"")}function un(t){return Qe(t.replace(Re,""))}var sn={escape:"{{-([\\s\\S]+?)}}",interpolate:"{{#([\\s\\S]+?)}}",command:"{{\\*([\\s\\S]+?)}}",evaluate:"{{([\\s\\S]+?)}}"},ln=/^([\S]+)\s?([\s\S]+)?/,fn=/[\[\]]*/g;function hn(t){var e=t,n=(e||"").trim(),r=n.slice(0,3),i=n.slice(0,5),o=n.slice(0,7),a=n[n.length-1];return"/if"!==n&&"/for"!==n&&"/"!==n||(e="}"),"}"!==a&&"{"!==a&&("if "===r||"if("===r?e="if("+n.slice(2)+"){":"elseif"===o||"elseif("===o||"esle if"===o?e="}else if("+n.slice(6)+"){":"elif "===i||"elif("===i?e="}else if("+n.slice(4)+"){":"else"===i&&(e="}else{")),e}function pn(t){var e="",n=ln.exec(We(t)),r=n[1],i=n[2];if(r)switch(r.toLowerCase()){case"/":case"end":case"/for":case"/each":case"/if":case"/exist":e="';}); _p+='";break;case"if":case"exist":e="'; var "+(i=i.split(" then "))[0]+" = "+i[0]+" || false; _ext("+i[0]+","+(i[1]?i[1].toString()+",":"")+"function(){ _p+='";break;case"for":case"each":e=dn("op",(i=i.split(" in "))[1],i[0]);break;case"not":case"cat":case"extend":e=vn(r,(i=i.split(" with "))[1],i[0]);break;default:e=vn(r,(i=i.split(" use "))[0],i[1]||"",!0)}return e}function dn(t,e,n){return"'; struct."+t+"()("+e+",function("+n.replace(fn,"")+"){ _p+='"}function vn(t,e,n,r){var i=t.split(":");return"'; "+(r?e+"=":"")+"struct."+i[0]+'("'+(i[1]||"")+'")('+e+","+n.replace(fn,"")+"); _p+='"}var mn={line:/[\r\n\f]/gim,quot:/\s*;;\s*/gim,space:/[\x20\xA0\uFEFF]+/gim,assert:/_p\+='(\\n)*'[^+]/gim,comment:/<!--(.*?)-->/gim,tagleft:/\s{2,}</gim,tagright:/>\s{2,}/gim};function gn(a,t,e){var n,r,c=0,u="_p+='",i,o=x(t)?e:_(t)?t:"",s=x(t)?t:{},l=tt(arguments,2),f=new RegExp(this.escape+"|"+this.interpolate+"|"+this.command+"|"+this.evaluate+"|$","g");We(a).replace(f,(function(t,e,n,r,i,o){return u+=a.slice(c,o).replace(De,rn),c=o+t.length,e?u+="'+((_t=("+e+"))==null?'':_(_t))+'":n?u+="'+((_t=("+n+"))==null?'':_t)+'":r?u+=pn(r,u):i&&(u+="';"+hn(i)+";_p+='"),t})),u=u.replace(mn.line,"").replace(mn.comment,"").replace(mn.assert,"").replace(mn.quot,";").replace(mn.space," ").replace(mn.tagright,"> ").replace(mn.tagleft," <"),u="with(__("+(o?"{}":"__({},_x_||{})")+",_bounds)){ "+u+"'; }",u="var _t,_d,_ext=struct.exist(),_=struct.html(\"encode\"),__=struct.extend(),_p=''; "+u+" return _p;";try{r=p("(function(_bounds,struct,"+(o||"_x_")+(l.length?","+l.toString():"")+"){ "+u+" })")}catch(t){throw console.error("[cubec view] Template parser Error!",{template:u}),t.res=u,t}return i=[s,h],n=function(){return We(r.apply(this,i.concat(tt(arguments))))},n}var yn=gn.bind(sn);function bn(){return zn(yn.apply(this,arguments))}function xn(t){var r={};return rt(t?t.split(";"):[],(function(t){var e=(t||"").search("=");if(~e){var n=We(t.substr(0,e));n.length&&(r[n]=We(t.substr(e+1)))}})),r}function _n(t){var e=tt(arguments),n=e.length,r=xn(document.cookie);if(n){if(1===n)return r[t];var i=new Date;return i.setDate(i.getDate()+365),document.cookie=We(e[0]+"="+(e[1]||"")+";expires="+(e[2]||i.toUTCString())+";path="+(e[3]||"/")+";domain="+(e[4]||"")+";"+(e[5]?"secure":"")),!0}return r}var wn={"application/x-www-form-urlencoded":0,"application/json":1};function En(t,e,n){if(t)switch(e){case 0:return je(n||{});case 1:return JSON.stringify(n||{});default:return je(n||{})}return n}function Tn(t){var o=d({url:"",type:"GET",param:u,charset:"utf-8",vaild:!0,cache:!1,success:J,error:J,loading:J,loadend:J,header:u,username:null,password:null,timeout:0,aysnc:!0,emulateJSON:!0,contentType:!0},t||{}),a=s.localStorage;if(b(o.param)&&(o.param=o.param()),o.cache){a.getItem("_")||a.setItem("_","{}");var e=JSON.parse(a.getItem("_"))[o.url||s.location.href.split("#").shift()];if(void 0!==e)return o.sucess.call(s,e)}var n,c=new XMLHttpRequest;return"GET"===o.type.toUpperCase()&&o.param&&(o.url+=(~o.url.search(/\?/g)?"&":et(o.param).length?"?":"")+je(o.param),o.param=null),c.addEventListener("loadstart",o.loading),c.addEventListener("loadend",o.loadend),c.open(o.type,o.url,o.aysnc,o.username,o.password),n=x(o.header)&&o.header["Content-Type"]||"application/x-www-form-urlencoded",o.header!==u&&x(o.header)&&it(o.header,(function(t,e){c.setRequestHeader(e,t)})),"POST"===o.type.toUpperCase()&&!0===o.contentType&&-1===(n||"").search("json")&&c.setRequestHeader("Content-Type",n+";chartset="+o.charset),c.setRequestHeader("X-Requested-With","XMLHttpRequest"),c.onreadystatechange=function(e){if(4===c.readyState&&c.responseText){var t=c.status;if(200<=t&&t<300||304===t){var n;try{n=o.emulateJSON?JSON.parse(c.responseText):c.responseText}catch(t){return o.error.call(s,c.responseText,c,e)}if(o.success.call(s,n,c,e),o.cache){var r=JSON.parse(a.getItem("_"));r[o.url||s.location.href.split("#")[0]]=c.responseText,a.setItem("_",JSON.stringify(r))}}else{var i={};try{i=JSON.parse(c.response)}catch(t){console.error(t)}o.error.call(s,i,c,e)}}},G(o.timeout)&&(c.timeout=1e3*G(o.timeout),c.ontimeout=function(){4===c.readyState&&c.responseText||o.error.call(s,c),c.abort()}),c.send(o.param?x(o.param)?En(o.contentType,wn[n],o.param):o.param:null),c}function Sn(t){var e=d({url:"",key:"callback",param:u,timeout:5,error:J,success:J,callback:("structJSTP"+Math.random()).replace(".","")},t||{});b(e.param)&&(e.param=e.param());var n=e.url+"?"+je(e.param)+(et(e.param).length?"&":"")+e.key+"="+e.callback,r=document.createElement("script");r.src=n,s[e.callback]=function(t){document.body.removeChild(r,hr(e.timesetup)),s[e.callback]=null,e.success(t)},document.body.append(r),G(e.timeout)&&(e.timesetup=fr((function(){document.body.removeChild(r),s[e.callback]=null,e.error()}),1e3*e.timeout))}function On(t,e,n,r){return b(e)&&(r=n,n=e,e=u),Tn({url:t,param:e,success:n,error:r})}function kn(t,e,n,r){return b(e)&&(r=n,n=e,e=u),Tn({url:t,type:"POST",param:e,success:n,error:r})}var Nn={},jn=0;function Cn(t,e,n){var r=t._eid||0;return 0===r&&m(t,"_eid",{value:r=++jn,writable:!1,enumerable:!1,configurable:!0}),Nn[r]||(Nn[r]={}),Nn[r][e]||(Nn[r][e]=[]),ht(Nn[r][e],n)||Nn[r][e].push(n),t}function An(t,e,n){var r=t._eid||0;return r&&Nn[r]&&(Nn[r][e]?vt(Nn[r][e],n).length&&n||delete Nn[r][e]:e||n||(delete t._eid,delete Nn[r])),t}function Dn(t,e,n){var r=!1,i=t._eid||0;return i&&Nn[i]&&(r=b(n)&&Nn[i][e]?ht(Nn[i][e],n):Fn(Nn[i][e])),!!r}function Pn(t,e){var n=(x(e)?e._eid:0)||0;return n&&(m(t,"_eid",{value:++jn,writable:!1,enumerable:!1,configurable:!0}),Nn[t._eid]=ut(Nn[n])),t}function Ln(t,e,n){var r=[],i=t._eid||0;return n=n||[],i&&Nn[i]&&""!==e&&it(Nn[i][e],(function(t){r.push(t.apply(this,n))}),t),r}function Mn(t,e,n){return rt(X(e).split(","),(function(t){Ln(this,We(t),n)}),t),t}function In(t,e,n){var r,i,o,a=X(e||"").split("."),c=a.length-1;if(1===a.length)t.hasOwnProperty(e)&&(r=t[e]);else for(i=0,r=t;i<a.length;i++)if(o=T(r=r[a[i]]),i!==c&&o){r=void 0;break}if(n){var u=tt(arguments,3);b(n)?r=n.apply(r,(u.unshift(r),u)):_(n)&&(r=b(r[n])?r[n].apply(r,u):r[n])}return r}function Rn(t,e,n){var r,i,o,a,c=(e||"").split(".");if(1===c.length)t[e]=n;else{for(o=0,r=t,i=c.pop();o<c.length;o++)r=null==(a=r[c[o]])?{}:a;r[i]=n}return t}function qn(t,e){var n,r,i,o=(e||"").split(".");if(1===o.length)t.hasOwnProperty(e)&&delete t[e];else{for(r=0,n=t,i=o.pop();r<o.length;r++)n=n[o[r]];O(n)?n.splice(G(i),1):delete n[i]}return t}function Hn(t,e){return 1<G(e)?tt(zt(t),0,G(e)):t[se(Fn(t)-1)]}function Fn(t){return b(t)||null==t||D(t)?0:E(t.length)?t.length:x(t)?et(t).length:0}function $n(){return(new Date).getTime()}function Un(t,e){var n=[],r=_(e);return C(t,"String")?t.split(""):(ot(t,(function(t){n.push(r?In(t,e):t)})),n)}function zn(n,r){var i,o=[];return function(){var t,e=tt(arguments);for(i=o.length;i--;)if(we(o[i][0],e))return o[i][1];return o.push([e,t=n.apply(r||this,e)]),t}}function Jn(t,e){var n=S(t)?g(st,t):t;return b(n)?function(){return!n.apply(e,arguments)}:g(Ct,n).bind(e)}function Bn(){var e=tt(arguments);return function(t){return lt(e,(function(t,e){return e(t)}),t)}}function Xn(t,e){if(x(t)&&_(e)&&e){var n=In(t,e);return n.sort.apply(n,tt(arguments,2)),t}return O(t)?t.sort.apply(t,tt(arguments,1)):t}function Gn(t){for(var e,n,r=0,i=t.length;r<i;r++){for(e=t[r],n=r-1;0<=n&&t[n]>e;)t[n+1]=t[n],n--;t[n+1]=e}return t}function Wn(t,e){return x(t)&&_(e)&&e?(Gn(In(t,e)),t):O(t)?Gn(t):t}function Kn(t,e,n){for(var r=t[n],i=e,o=e;i<n;i++)t[i]<r&&Z(t,i,o,o++);return Z(t,n,o),o}function Yn(t,e,n){if(!(n<e)){var r=Kn(t,e,n);Yn(t,e,r-1),Yn(t,r+1,n)}}function Vn(t){return Yn(t,0,t.length-1),t}function Zn(t,e){return x(t)&&!O(t)&&_(e)?(Vn(In(t,e)),t):O(t)?Vn(t):t}function Qn(t){var e=tt(arguments,1);t&&St(e).apply(this,e)}function tr(){return rt(Q.apply(null,arguments),Object.freeze).pop()}function er(t,e,n){var r;return function(){r||fr((t.apply((r=1,n),arguments),function(){r=0}),e)}}function nr(){return new rr(arguments)}function rr(t){m(this,{"-":{value:0 in t?t:void 0,writable:!0,enumerable:!1,configurable:!1},"=":{value:[],writable:!1,enumerable:!1,configurable:!1}})}function ir(t,e){var n,r=[];for(n=0;n<t;n++)r[n]=e;return r}function or(t,n){var r={};return O(t)&&O(n)&&rt(t,(function(t,e){r[t]=n[e]})),r}rr.prototype.value=function(){return Bn.apply(null,this["="].splice(0,Fn(this["="]))).apply(null,void 0===this["-"]?arguments:this["-"])};var ar="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",cr=s.btoa||function(t){for(var e,n,r=X(t),i="",o=0,a=ar;r.charAt(0|o)||(a="=",o%1);i+=a.charAt(63&e>>8-o%1*8)){if(255<(n=r.charCodeAt(o+=.75)))throw new Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");e=e<<8|n}return i},ur=s.atob||function(t){var e=X(t).replace(/[=]+$/,""),n="";if(e.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,i,o=0,a=0,c=ar;i=e.charAt(a++);~i&&(r=o%4?64*r+i:i,o++%4)?n+=String.fromCharCode(255&r>>(-2*o&6)):0)i=c.indexOf(i);return n};function sr(t){return cr(unescape(encodeURIComponent(X(t))))}function lr(t){return decodeURIComponent(escape(ur(X(t).replace(/\s/g,""))))}function fr(t){return window.Promise?window.Promise.resolve().then(t):setTimeout(t,0)}function hr(t){clearTimeout(t)}var pr={obj:x,object:x,arr:O,array:O,arraylike:A,str:_,string:_,bool:w,boolean:w,num:E,number:E,fn:b,func:b,nan:D,prim:T,primitive:T,idt:N,identifier:N,def:C,define:C,int:P,float:L,double:L,date:M,ept:I,empty:I,dom:R,elm:q,element:q,node:H,text:H,native:F,need:j,require:j,required:j,type:U,default:U},dr={str:X,string:X,num:G,number:G,arr:Y,array:Y,hex:K,rgb:W,minus:V,default:X},vr={arr:rt,array:rt,obj:it,object:it,each:ot,default:ot},mr={key:pt,index:pt,exist:ht,default:ht},gr={first:wt,last:_t,single:Et,one:Et,index:xt,default:xt},yr={key:kt,hook:Lt,map:Ot,default:Ot},br={fast:Dt,slim:Pt,default:Pt},xr={un:Ht,unpair:Ht,pair:qt,default:qt},_r={at:$t,with:Ut,all:Ft,default:Ft},wr={left:ee,right:ne,lefto:re,leftto:re,righto:re.bind(!0),rightto:re.bind(!0),default:ee},Er={int:se,float:le,double:le,str:de,word:de,string:de,bool:fe,boolean:fe,char:he,letter:he,character:he,arr:ge,array:ge,date:ve,hex:pe,dice:me,default:Math.random},Tr={parse:Ne,str:je,stringify:je,serialize:je,query:Se,requery:Se,default:Ne},Sr={encode:on,decode:an,strip:cn,zip:un,default:Bn(cn,un)},Or={trim:We,trimleft:Ke,trimright:Ye,came:Ve,camelize:Ve,capit:Ze,capitalize:Ze,collapse:Qe,rize:tn,rizewith:tn,default:X},kr={get:On,fetch:On,put:kn,post:kn,jsonp:Sn,cors:Sn,ajax:Tn,default:Tn},Nr={on:Cn,add:Cn,bind:Cn,off:An,remove:An,unbind:An,has:Dn,exist:Dn,copy:Pn,extend:Pn,emit:Mn,trigger:Mn,dispatch:Mn,default:Mn},jr={get:In,set:Rn,rm:qn,not:qn,remove:qn,default:In},Cr={a2b:ur,atob:ur,btoa:cr,b2a:cr,utob:sr,u2b:sr,btou:lr,b2u:lr,default:ur},Ar={left:lt,right:ft,default:lt},Dr={native:Xn,q:Zn,i:Wn,quick:Zn,insert:Wn,default:Xn},Pr={fast:Wt,slim:Kt,default:Wt},Lr={fast:Vt,slim:Zt,default:Vt},Mr={axt:bn,cache:bn,default:yn},Ir={chain:nr,define:m,extend:d,depextend:v,keys:et,noop:J,clone:at,fireEvent:Ln,cloneDeep:ut,depclone:ut,not:vt,cat:Nt,slice:tt,find:mt,filter:mt,reject:gt,every:yt,some:bt,chunk:Jt,compact:Bt,pluck:Mt,groupBy:It,countBy:Rt,concat:Xt,cast:Q,shuffle:zt,first:Tt,last:St,flat:ie,merge:te,auto:Hn,part:xe,once:_e,eq:we,cookie:_n,values:Un,memoize:zn,negate:Jn,link:Bn,size:Fn,now:$n,exist:Qn,lock:tr,cool:B,hz:er,fill:ir,combined:or,ayc:fr,cyc:hr,v8:z},Rr={op:vr,each:vr,map:yr,has:mr,diff:Pr,intsec:Lr,type:pr,sort:Dr,html:Sr,unique:br,convert:dr,pull:_r,param:Tr,ajax:kr,event:Nr,prop:jr,drop:wr,pairs:xr,index:gr,random:Er,string:Or,reduce:Ar,assembly:Cr,doom:Mr};it(Ir,(function(t,e){rr.prototype[e]=function(){return this["="].push(t),this},l(t,e)})),it(Rr,(function(e,t){rr.prototype[t]=function(t){return this["="].push(e[We(X(t).toLowerCase())]),this},f(tr(e),t)})),h.root=s,h.broken=u,h.toString=X,h.prototype=h.__proto__=null;var qr=tr(z(h));function Hr(t){if(Array.isArray(t))return t}var Fr=Hr;function $r(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}var Ur=$r;function zr(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var Jr=zr;function Br(t,e){return Fr(t)||Ur(t,e)||Jr()}var Xr=Br,Gr={DEFAULT_OPTION:{data:{},verify:{},emulateJSON:!0},IGNORE_KEYWORDS:["name","data","store","change","events","verify","filter","lock"],EMULATEHTTP:{get:"GET",send:"GET",post:"POST",sync:"POST",put:"POST",delete:"POST",patch:"POST",fetch:"GET"}},Wr={MODEL_UNEXPECT:"unexpect c.model with only data that accepts a standard JSON type object.",VIEW_MISSING_ROOT:"unexpect c.view must defined real root element node",ATOM_UNDEFINED_MODELNAME:"unexpect model name that atom can find it",ATOM_MISSING_MODELINSTANCE:"can not find target modal with atom.swap"},Kr=window.localStorage,Yr="CUBEC@",Vr=function(t){return t.split("").reverse().join("")},Zr={t:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",ram:{},kAt:function(t,e){return t.charCodeAt(~~(e%t.length))},ecd:function(t){var e,n,r,i,o,a,c=0,u="";if(!t)return t;for(;e=(o=t[c++]<<16|t[c++]<<8|t[c++])>>18&63,n=o>>12&63,r=o>>6&63,i=63&o,u+=this.t.charAt(e)+this.t.charAt(n)+this.t.charAt(r)+this.t.charAt(i),c<t.length;);return((a=t.length%3)?u.slice(0,a-3):u)+"===".slice(a||3)},dcd:function(t){var e,n,r,i,o,a,c=0,u=[];if(!t)return t;for(t+="";e=(a=this.t.indexOf(t.charAt(c++))<<18|this.t.indexOf(t.charAt(c++))<<12|(i=this.t.indexOf(t.charAt(c++)))<<6|(o=this.t.indexOf(t.charAt(c++))))>>16&255,n=a>>8&255,r=255&a,u.push(e),64!==i&&(u.push(n),64!==o&&u.push(r)),c<t.length;);return u},incry:function(t,e){for(var n=0,r=t.length,i=[];n<r;n++)i[n]=t[n].charCodeAt(0)^this.kAt(e,n);return this.ecd(i)},decyt:function(t,e){for(var n=0,r=(t=this.dcd(t)).length;n<r;n++)t[n]=String.fromCharCode(t[n]^this.kAt(e,n));return t.join("")},set:function(t,e){Kr.setItem(Yr+this.incry(t,Vr(t)),this.incry(encodeURIComponent(JSON.stringify(e)),t))},get:function(t){var e=Kr.getItem(Yr+this.incry(t,Vr(t)));return e?JSON.parse(decodeURIComponent(this.decyt(e,t))):0},rm:function(t){Kr.removeItem(Yr+this.incry(t,Vr(t)))}};function Qr(t,e){return this.on(e,t)}var ti=qr.each("object"),ei=qr.define();function ni(n,t){return ti(t,(function(t,e){ei(n,e,{value:t,writable:!1,enumerable:!1,configurable:!1})})),n}var ri=qr.broken,ii=qr.keys(),oi=qr.prop("get"),ai=qr.convert("string"),ci=qr.type();function ui(t,e){if(!e._v)return!0;for(var n,r,i,o=e._asv(ri),a=[],c=ii(o),u=0,s=c.length;u<s;u++)if(!(0,o[c[u]])(n=oi(t,c[u]))){a.push(c[u],n),console.error("model of key ( ".concat(c[u]," ) except error with model verify => ").concat(ci(n).toUpperCase()," [ ").concat(ai(n)," ]")),i=c[u];break}return(r=!a.length)||(e.emit("catch:verify",a),e.emit("catch:verify:".concat(i),a)),r}var si=qr.broken,li=qr.prop("set"),fi=qr.keys(),hi=qr.prop("get"),pi=qr.find(),di=qr.convert("string"),vi=qr.type();function mi(t,e,n){if(!n._v)return!0;for(var r,i,o,a=n._asv(si),c=li(n.get(),t,e),u=fi(a),s=new RegExp("^(".concat(t.replace(".","\\."),"|(").concat(t.replace(".","\\."),"\\.[^sS]*))$"),"m"),l=pi(u,s),f=[],h=0,p=l.length;h<p;h++)if(!(0,a[o=l[h]])(i=hi(c,o))){f.push(o,i),console.error("model of key ( ".concat(l[h]," ) except error with model verify => ").concat(vi(i).toUpperCase()," [ ").concat(di(i)," ]"));break}return(r=!f.length)||(n.emit("catch:verify",f),n.emit("catch:verify:".concat(o),f)),r}var gi=qr.broken;function yi(t){var e=t._asl(gi);return e&&t.emit("catch:lock"),e}var bi=qr.ajax();function xi(t,e,n,r,i,o){if(yi(this))return this;var a={url:e||this.url||"",type:Gr.EMULATEHTTP[t],async:!0,emulateJSON:this.emulateJSON,param:n||this.param||{},header:o||this.header||{}};return"POST"===a.type&&this.emulateJSON&&(a.header["Content-Type"]="application/json"),a.header["X-HTTP-Method-Override"]=t,a.success=function(){try{r.apply(this,arguments)}catch(t){return console.error(t),this.emit("catch",[t])}this.emit(t+":success",arguments)}.bind(this),a.error=function(){try{i.apply(this,arguments)}catch(t){return console.error(t),this.emit("catch",[t])}this.emit(t+":error",arguments)}.bind(this),this.emit(t,[bi(a),a])}var _i=qr.ajax();function wi(r,i,o,a){var c=this;return yi(this)?this:new Promise(function(e,n){var t={url:i||c.url||"",type:Gr.EMULATEHTTP[r],async:!0,emulateJSON:c.emulateJSON,param:o||c.param||{},header:a||c.header||{}};t.header["X-HTTP-Method-Override"]=r,t.success=function(t){e(t)},t.error=function(t){n(t)},c.emit(r,[_i(t),t])})}var Ei=qr.each("array"),Ti=qr.each("object"),Si=qr.type("object"),Oi=qr.type("arraylike"),ki=function n(t,r,e){var i=e||[];return null!=t&&(Oi(t)?Ei(t,(function(t){n(t,r,i)})):Si(t)&&Ti(t,(function(t,e){e===r&&i.push(t),n(t,r,i)}))),i},Ni=function(e,t){var n={};return Ei(t,(function(t){n[t]=ki(e,t)})),n},ji=qr.each("object"),Ci=qr.each("array"),Ai=qr.keys();function Di(r){var t=[],n=0,i=Ai(r);ji(r,(function(t,e){n=t.length>n?t.length:n}));for(var e=function(e){var n={};Ci(i,(function(t){n[t]=r[t][e]})),t.push(n)},o=0;o<n;o++)e(o);return t}var Pi=qr.type("func"),Li=qr.type("arraylike"),Mi=qr.type("string"),Ii=qr.event("on"),Ri=qr.event("off"),qi=qr.event("emit");function Hi(t,e){return Pi(e)&&Mi(t)&&Ii(this,t,e),this}function Fi(t,e){return Ri(this,t,e)}function $i(t,e){return qi(this,t,Li(e)?e:[])}var Ui=0,zi=/^change:([a-zA-Z0-9_$.]+)$/,Ji=/^change:/,Bi=qr.broken,Xi=qr.extend(),Gi=qr.clone(),Wi=qr.type("string"),Ki=qr.type("bool"),Yi=qr.type("object"),Vi=qr.type("array"),Zi=qr.type("prim"),Qi=qr.type("func"),to=qr.each("object"),eo=qr.each("array"),no=qr.cool(),ro=qr.size(),io=qr.prop("get"),oo=qr.prop("set"),ao=qr.prop("rm"),co=qr.merge(),uo=qr.noop(),so=qr.slice(),lo=qr.not(),fo=qr.eq(),ho=qr.event("has");function po(){var t=so(arguments),e={};try{1<t.length?eo(t,(function(t){return e=co(e,t)})):e=t[0]}catch(t){return console.error("[cubec model] the fetch data with parse error, please check server response data format with model-{ catch } event!"),this.emit("catch",[t]),!1}return e}var vo=function(){var n=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=Xi(Gi(Gr.DEFAULT_OPTION),t);if(!Yi(e.data)||Vi(e.data))throw new Error(Wr.MODEL_UNEXPECT);var r=e.events,i=e.verify,o=Wi(e.name),a=Ki(e.store)&&e.store&&o,c=this.isLock=!!e.lock,u=[],s=[],l=e.data||{},f=a&&Zr.get(e.name)||l;l=Gi(f),to(r,Qr,ni(this,{name:o?e.name:void 0,_ast:function(t,e){var n=Qi(t)?t:no;return e===Bi?n(l):{}},_mid:Ui++,_asl:function(t){return t===Bi?c:null},_asv:function(t){return t===Bi?i:{}},_ash:function(t){return t===Bi?u:[]},_asc:function(t){return t===Bi?s:[]},_v:!!ro(i),_l:function(t,e){return e===Bi?n.isLock=c=!!t:void 0},_c:function(t,e){return e===Bi?l=t:{}},_s:a})),o&&(Zr.ram[this.name]=this),Xi(this,e,Gr.IGNORE_KEYWORDS).emit("init").off("init")};function mo(i,o,a,t){var c=[],e=i._asc(Bi);if(i.emit("change",[o,a]),e.length)if(t&&Wi(t)){var u="change:".concat(t),s=new RegExp("^".concat(u,"\\.([a-zA-Z_$0-9])+"));eo(e,(function(t){if(u===t||s.test(t)){var e=t.replace(Ji,""),n=io(o,e),r=io(a,e);fo(n,r)||c.push([t,[n,r]])}}))}else eo(e,(function(t){var e=t.replace(Ji,""),n=io(o,e),r=io(a,e);fo(n,r)||c.push([t,[n,r]])}));return eo(c,(function(t){var e=Xr(t,2),n=e[0],r=e[1];i.emit(n,r)})),i}function go(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}vo.prototype={constructor:vo,emit:$i,on:function(t){if(t&&Wi(t)){if(zi.test(t)){var e=this._asc(Bi);-1===e.indexOf(t)&&e.push(t)}return Hi.apply(this,arguments)}},off:function(t,e){Fi.apply(this,arguments);var n=this._asc(Bi);return t&&Wi(t)&&zi.test(t)&&-1<=n.indexOf(t)&&!ho(this,t)?lo(n,t):null==t&&n.splice(0,n.length),this},lock:function(){return this._l(!0,Bi),this.emit("lock")},unlock:function(){return this._l(!1,Bi),this.emit("unlock")},get:function(t,e){var n=this._ast(no,Bi);return Gi(t||0===t?io(n,t,e):n)},set:function(t,e,n){if(yi(this))return this;var r,i=this._ast(no,Bi),o=this._ash(Bi),a=arguments.length,c=!Zi(t)&&Yi(t);if(a)if(c){if(n=e,(r=t)&&!fo(i,r)&&ui(r,this)){var u=Gi(i);if(this.history&&o.push(Gi(i)),this._c(r,Bi,this.change=!0),this._s&&Zr.set(this.name,r),!n)mo(this,Gi(r),u)}}else if(!fo(io(i,t),e)&&mi(t,e,this)){var s=Gi(i);if(this.history&&o.push(Gi(i)),oo(i,t,e,this.change=!0),this._s&&Zr.set(this.name,i),!n)mo(this,Gi(i),s,t)}return this},remove:function(t,e){if(yi(this))return this;var n=this._ast(no,Bi),r=this._ash(Bi);if(Zi(t)&&null!=t){var i=Gi(n);if(this.history&&r.push(Gi(n)),ao(n,t),this._s&&Zr.set(this.name,n),!e){var o=Gi(n);this.emit("remove:"+t),mo(this,o,i,t)}}return this},clear:function(t){var e={};return this.set(e,t),this._ast(no,Bi)!==e||t||this.emit("clear"),this},back:function(t){if(yi(this)||!this.history)return this;var e,n=this._ash(Bi);if(n.length&&(e=n.pop())){var r=this.get();if(this._c(e,Bi,this.change=!0),!t){var i=Gi(e);this.emit("back",[i]),mo(this,i,r)}}return this},toJSON:function(){return JSON.stringify(this.get())},ajax:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=co({type:"get",async:!0,success:uo,error:uo},t);return xi.call(this,e.type,e.url,e.param,e.success,e.error,e.header)},fetch:function(t,n){var r=this;t=t||this.param;var i=[],e=Vi(this.url)?this.url:Wi(this.url)?[this.url]:[],o=Vi(t)?t:Yi(t)?[t]:[],a=this.parse||po;return eo(e,(function(t,e){i.push(wi.call(r,"fetch",t,o[e],n))})),1===i.length?i[0].then((function(t){var e=a.call(r,t);e&&(r.emit("fetch:success",[e]),r.set(e))}),(function(t){r.emit("fetch:error",[t]),console.error(t)})).catch((function(t){r.emit("catch",[t]),console.error(t)})):1<i.length&&Promise.all(i).then((function(t){var e=a.apply(r,t);e&&(r.emit("fetch:success",[e]),r.set(e))}),(function(t){r.emit("fetch:error",[t]),console.error(t)})).catch((function(t){r.emit("catch",[t]),console.error(t)})),this},sync:function(t,e){return Wi(t)?xi.call(this,"sync",t,this.get(),uo,uo,e):this},merge:function(t,e){return t instanceof vo&&(t=t.get()),Yi(t)&&null!=t&&this.set(co(this.get(),t),e),this},transTo:function(t,e,n){Qi(e)&&(n=e,e=!1);var r=Qi(n)?n:no;return t instanceof vo&&t.set(r(this.get()),e),this},seek:function(t,e){if(t&&(Wi(t)&&(t=[t]),Vi(t))){var n=Ni(this.get(),t);return e?Di(n):n}return{}}};var yo=go;function bo(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}var xo=bo;function _o(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var wo=_o;function Eo(t){return yo(t)||xo(t)||wo()}var To=Eo;function So(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Oo=So,ko={DEFAULT_OPTION:{use:[]},IGNORE_KEYWORDS:["use","events","assert"]},No=qr.cool(),jo=qr.type("string"),Co=qr.type("array"),Ao=qr.each("array"),Do=qr.broken;function Po(t,e){var n=this,r=this._assert(No,Do),i=jo(t)?[t]:Co(t)?t:[];return Ao(i,(function(t){return e.call(n,r,t)})),this}function Lo(e){return function(t){return t.name===e}}var Mo=qr.type(),Io=qr.each("array");function Ro(t,e){var n=[];switch(Mo(e)){case"regexp":Io(t,(function(t){return e.test(t.name)&&n.push(t)}));break;case"string":n.push(e);break;case"array":n=e;break;case"function":Io(t,(function(t){return e(t)&&n.push(t)}))}return n}function qo(e,n){return function(t){return t[e].apply(t,n)}}var Ho=qr.extend(),Fo=qr.clone(),$o=qr.slice(),Uo=qr.has(),zo=qr.index(),Jo=qr.index("one"),Bo=qr.type("number"),Xo=qr.type("function"),Go=qr.type("string"),Wo=qr.type("boolean"),Ko=qr.type("array"),Yo=qr.type("arraylike"),Vo=qr.cool(),Zo=qr.every(),Qo=qr.each("array"),ta=qr.map(),ea=qr.size(),na=qr.broken,ra=qr.noop(),ia=function(t){return t instanceof vo},oa=0,aa=function(t,e,n,r){var i=zo(t,Go(e)?Lo(e):e);if(Bo(i)){var o=t.splice(i,1).pop();ia(o)&&n&&o.off("change",r)}},ca=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=Ho(Fo(ko.DEFAULT_OPTION),t),n=!!e.connect,r=function(){this.transmit()}.bind(this),i=[];ni(this,{_mid:"_at"+oa++,_assert:function(t,e){return e===na?t(i):[]},_transmit:function(t){return t===na?r:ra},_connecty:function(t){return t===na?n:null}}),Ho(this.use(e.use,!0),e,ko.IGNORE_KEYWORDS)},ua=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=2<arguments.length?arguments[2]:void 0,r=new ca({use:e,connect:n});return r.back=function(){return t},r};ca.prototype={constructor:ca,all:function(){return this._assert($o,na)},use:function(t,e){var n=this._assert(Vo,na),r=this._transmit(na),i=this._connecty(na),o=n.length;return ia(t)&&!Uo(n,t)?(n.push(t),i&&t.on("change",r)):Yo(t)&&Zo(t,ia)?Qo(t,(function(t){Uo(n,t)||(n.push(t),i&&t.on("change",r))})):(Go(t)||Ko(t)&&Zo(t,Go))&&Po.call(this,t,(function(t,e,n){(n=Zr.ram[e])&&!Uo(t,n)&&(t.push(n),i&&n.on("change",r))})),o===n.length||e||this.transmit(),this},transmit:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=this.toChunk();return Go(this.preset)&&this.preset&&(e=Oo({},this.preset,e)),$i.call(this,"change",[e].concat(To(t)))},out:function(t,e){var n=this._assert(Vo,na),r=this._connecty(na),i=this._transmit(na),o=n.length;return ia(t)&&!Uo(n,t)?aa(n,t,r,i):Yo(t)&&Zo(t,ia)?Qo(t,(function(t){aa(n,t,r,i)})):(Go(t)||Ko(t)&&Zo(t,Go))&&Po.call(this,t,(function(t,e){aa(t,e,r,i)})),o===n.length||e||this.transmit(),this},getModelByNames:function(t){var e,n=this;return null==t?e=this.all():Go(t)?e=Jo(this.all(),Lo(t)):Ko(t)&&ea(t)&&(e=ta(t,(function(t){return n.getModelByNames(t)})),1===ea(e)&&(e=e[0])),e},of:function(t,e){return Qo(this.all(),Xo(t)?t:qo(t,e)),this},swap:function(t,e,n){if(!(t&&e&&Go(t)&&Go(e)))throw new Error(Wr.ATOM_UNDEFINED_MODELNAME);var r=this.getModelByNames(t),i=this.getModelByNames(e);if(!r||!i)throw new Error(Wr.ATOM_MISSING_MODELINSTANCE);var o=r.get();return r.set(i.get(),n),i.set(o,n),this},select:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return ua(this,Ro(this.all(),t),e)},subscribe:function(t){return Xo(t)&&Hi.call(this,"change",t),this},unsubscribe:function(t){return Wo(t)&&t?Fi.call(this,"change"):Xo(t)&&Fi.call(this,"change",t),this},reset:function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];return this.unsubscribe(!0),this.out(this.all(),t),this},toData:function(){return ta(this._assert(Vo,na),(function(t){return t.get()}))},toChunk:function(){var e={};return this.of((function(t){t.name&&(e[t.name]=t.get())})),e}};var sa={DEFAULT_OPTION:{props:{}},IGNORE_KEYWORDS:["root","render","model","connect","events","template"]},la=[],fa=window.document,ha=Object.getPrototypeOf,pa=la.slice,da=la.concat,va=la.push,ma=la.indexOf,ga={},ya=ga.toString,ba=ga.hasOwnProperty,xa=ba.toString,_a=xa.call(Object),wa={},Ea=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},Ta=function(t){return null!=t&&t===t.window},Sa={type:!0,src:!0,noModule:!0};function Oa(t,e,n){var r,i=(e=e||fa).createElement("script");if(i.text=t,n)for(r in Sa)n[r]&&(i[r]=n[r]);e.head.appendChild(i).parentNode.removeChild(i)}function ka(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?ga[ya.call(t)]||"object":typeof t}var Na="3.3.2 for cubec",ja=function(t,e){return new ja.fn.init(t,e)};function Ca(t){var e=!!t&&"length"in t&&t.length,n=ka(t);return!Ea(t)&&!Ta(t)&&("array"===n||0===e||"number"==typeof e&&0<e&&e-1 in t)}ja.fn=ja.prototype={jquery:Na,constructor:ja,length:0,get:function(t){return null==t?pa.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=ja.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return ja.each(this,t)},map:function(n){return this.pushStack(ja.map(this,(function(t,e){return n.call(t,e,t)})))},slice:function(){return this.pushStack(pa.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(0<=n&&n<e?[this[n]]:[])},push:va,sort:la.sort,splice:la.splice},ja.extend=ja.fn.extend=function(){var t,e,n,r,i,o,a=arguments[0]||{},c=1,u=arguments.length,s=!1;for("boolean"==typeof a&&(s=a,a=arguments[c]||{},c++),"object"==typeof a||Ea(a)||(a={}),c===u&&(a=this,c--);c<u;c++)if(null!=(t=arguments[c]))for(e in t)n=a[e],a!==(r=t[e])&&(s&&r&&(ja.isPlainObject(r)||(i=Array.isArray(r)))?(o=i?(i=!1,n&&Array.isArray(n)?n:[]):n&&ja.isPlainObject(n)?n:{},a[e]=ja.extend(s,o,r)):void 0!==r&&(a[e]=r));return a},ja.extend({expando:"jQuery"+(Na+Math.random()).replace(/\D/g,""),isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==ya.call(t))&&(!(e=ha(t))||"function"==typeof(n=ba.call(e,"constructor")&&e.constructor)&&xa.call(n)===_a)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){Oa(t)},each:function(t,e){var n,r=0;if(Ca(t))for(n=t.length;r<n&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},makeArray:function(t,e){var n=e||[];return null!=t&&(Ca(Object(t))?ja.merge(n,"string"==typeof t?[t]:t):va.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:ma.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;r<n;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r=[],i=0,o=t.length,a=!n;i<o;i++)!e(t[i],i)!==a&&r.push(t[i]);return r},map:function(t,e,n){var r,i,o=0,a=[];if(Ca(t))for(r=t.length;o<r;o++)null!=(i=e(t[o],o,n))&&a.push(i);else for(o in t)null!=(i=e(t[o],o,n))&&a.push(i);return da.apply([],a)},guid:1,support:wa}),"function"==typeof Symbol&&(ja.fn[Symbol.iterator]=la[Symbol.iterator]),ja.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){ga["[object "+e+"]"]=e.toLowerCase()}));var Aa=fa.documentElement,Da,Pa,La=ja.expando.split("").sort(qa).join("")===ja.expando,Ma=Aa.matches||Aa.webkitMatchesSelector||Aa.mozMatchesSelector||Aa.oMatchesSelector||Aa.msMatchesSelector,Ia=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,Ra=function(t,e){return e?"\0"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t};function qa(t,e){if(t===e)return Da=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)?t===fa||t.ownerDocument===fa&&ja.contains(fa,t)?-1:e===fa||e.ownerDocument===fa&&ja.contains(fa,e)?1:Pa?ma.call(Pa,t)-ma.call(Pa,e):0:4&n?-1:1)}function Ha(t){var e,n=[],r=0,i=0;if(Da=!1,Pa=!La&&t.slice(0),t.sort(qa),Da){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return Pa=null,t}function Fa(t){return(t+"").replace(Ia,Ra)}ja.extend({uniqueSort:Ha,unique:Ha,escapeSelector:Fa,find:function(t,e,n,r){var i,o,a=0;if(n=n||[],!t||"string"!=typeof t)return n;if(1!==(o=(e=e||fa).nodeType)&&9!==o)return[];if(r)for(;i=r[a++];)ja.find.matchesSelector(i,t)&&n.push(i);else ja.merge(n,e.querySelectorAll(t));return n},contains:function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!n.contains(r))},isXMLDoc:function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},expr:{attrHandle:{},match:{bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:/^[\x20\t\r\n\f]*[>+~]/}}}),ja.extend(ja.find,{matches:function(t,e){return ja.find(t,null,null,e)},matchesSelector:function(t,e){return Ma.call(t,e)},attr:function(t,e){var n=ja.expr.attrHandle[e.toLowerCase()],r=n&&ba.call(ja.expr.attrHandle,e.toLowerCase())?n(t,e,ja.isXMLDoc(t)):void 0;return void 0!==r?r:t.getAttribute(e)}});var $a=ja.expr.match.needsContext;function Ua(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var za=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Ja(t,n,r){return Ea(n)?ja.grep(t,(function(t,e){return!!n.call(t,e,t)!==r})):n.nodeType?ja.grep(t,(function(t){return t===n!==r})):"string"!=typeof n?ja.grep(t,(function(t){return-1<ma.call(n,t)!==r})):ja.filter(n,t,r)}ja.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?ja.find.matchesSelector(r,t)?[r]:[]:ja.find.matches(t,ja.grep(e,(function(t){return 1===t.nodeType})))},ja.fn.extend({find:function(t){var e,n,r=this.length,i=this;if("string"!=typeof t)return this.pushStack(ja(t).filter((function(){for(e=0;e<r;e++)if(ja.contains(i[e],this))return!0})));for(n=this.pushStack([]),e=0;e<r;e++)ja.find(t,i[e],n);return 1<r?ja.uniqueSort(n):n},filter:function(t){return this.pushStack(Ja(this,t||[],!1))},not:function(t){return this.pushStack(Ja(this,t||[],!0))},is:function(t){return!!Ja(this,"string"==typeof t&&$a.test(t)?ja(t):t||[],!1).length}});var Ba,Xa=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Ga=ja.fn.init=function(t,e,n){var r,i;if(!t)return this;if(n=n||Ba,"string"!=typeof t)return t.nodeType?(this[0]=t,this.length=1,this):Ea(t)?void 0!==n.ready?n.ready(t):t(ja):ja.makeArray(t,this);if(!(r="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:Xa.exec(t))||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof ja?e[0]:e,ja.merge(this,ja.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:fa,!0)),za.test(r[1])&&ja.isPlainObject(e))for(r in e)Ea(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return(i=fa.getElementById(r[2]))&&(this[0]=i,this.length=1),this};Ga.prototype=ja.fn,Ba=ja(fa),ja.fn.extend({index:function(t){return t?"string"==typeof t?ma.call(ja(t),this[0]):ma.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1}});var Wa=/[^\x20\t\r\n\f]+/g,Ka=function(t,e,n,r,i,o,a){var c=0,u=t.length,s=null==n;if("object"===ka(n))for(c in i=!0,n)Ka(t,e,c,n[c],!0,o,a);else if(void 0!==r&&(i=!0,Ea(r)||(a=!0),s&&(e=a?(e.call(t,r),null):(s=e,function(t,e,n){return s.call(ja(t),n)})),e))for(;c<u;c++)e(t[c],n,a?r:r.call(t[c],c,e(t[c],n)));return i?t:s?e.call(t):u?e(t[0],n):o},Ya=/^-ms-/,Va=/-([a-z])/g;function Za(t,e){return e.toUpperCase()}function Qa(t){return t.replace(Ya,"ms-").replace(Va,Za)}var tc=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function ec(){this.expando=ja.expando+ec.uid++}ec.uid=1,ec.prototype={cache:function(t){var e=t[this.expando];return e||(e={},tc(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var r,i=this.cache(t);if("string"==typeof e)i[Qa(e)]=n;else for(r in e)i[Qa(r)]=e[r];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][Qa(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r=t[this.expando];if(void 0!==r){if(void 0!==e){n=(e=Array.isArray(e)?e.map(Qa):(e=Qa(e))in r?[e]:e.match(Wa)||[]).length;for(;n--;)delete r[e[n]]}(void 0===e||ja.isEmptyObject(r))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!ja.isEmptyObject(e)}};var nc=new ec,rc=new ec,ic=function(t){return ja.contains(t.ownerDocument,t)},oc=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ac=/^$|^module$|\/(?:java|ecma)script/i,cc={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function uc(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&Ua(t,e)?ja.merge([t],n):n}function sc(t,e){for(var n=0,r=t.length;n<r;n++)nc.set(t[n],"globalEval",!e||nc.get(e[n],"globalEval"))}cc.optgroup=cc.option,cc.tbody=cc.tfoot=cc.colgroup=cc.caption=cc.thead,cc.th=cc.td;var lc=/<|&#?\w+;/,fc,hc;function pc(t,e,n,r,i){for(var o,a,c,u,s,l,f=e.createDocumentFragment(),h=[],p=0,d=t.length;p<d;p++)if((o=t[p])||0===o)if("object"===ka(o))ja.merge(h,o.nodeType?[o]:o);else if(lc.test(o)){for(a=a||f.appendChild(e.createElement("div")),c=(oc.exec(o)||["",""])[1].toLowerCase(),u=cc[c]||cc._default,a.innerHTML=u[1]+ja.htmlPrefilter(o)+u[2],l=u[0];l--;)a=a.lastChild;ja.merge(h,a.childNodes),(a=f.firstChild).textContent=""}else h.push(e.createTextNode(o));for(f.textContent="",p=0;o=h[p++];)if(r&&-1<ja.inArray(o,r))i&&i.push(o);else if(s=ic(o),a=uc(f.appendChild(o),"script"),s&&sc(a),n)for(l=0;o=a[l++];)ac.test(o.type||"")&&n.push(o);return f}fc=fa.createDocumentFragment().appendChild(fa.createElement("div")),hc=fa.createElement("input"),hc.setAttribute("type","radio"),hc.setAttribute("checked","checked"),hc.setAttribute("name","t"),fc.appendChild(hc),wa.checkClone=fc.cloneNode(!0).cloneNode(!0).lastChild.checked,fc.innerHTML="<textarea>x</textarea>",wa.noCloneChecked=!!fc.cloneNode(!0).lastChild.defaultValue;var dc=/^key/,vc=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,mc=/^([^.]*)(?:\.(.+)|)/;function gc(){return!0}function yc(){return!1}function bc(){try{return fa.activeElement}catch(t){}}function xc(t,e,n,r,i,o){var a,c;if("object"==typeof e){for(c in"string"!=typeof n&&(r=r||n,n=void 0),e)xc(t,c,n,r,e[c],o);return t}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=yc;else if(!i)return t;return 1===o&&(a=i,(i=function(t){return ja().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=ja.guid++)),t.each((function(){ja.event.add(this,e,i,r,n)}))}ja.event={global:{},add:function(e,t,n,r,i){var o,a,c,u,s,l,f,h,p,d,v,m=nc.get(e);if(m)for(n.handler&&(n=(o=n).handler,i=o.selector),i&&ja.find.matchesSelector(Aa,i),n.guid||(n.guid=ja.guid++),(u=m.events)||(u=m.events={}),(a=m.handle)||(a=m.handle=function(t){return void 0!==ja&&ja.event.triggered!==t.type?ja.event.dispatch.apply(e,arguments):void 0}),s=(t=(t||"").match(Wa)||[""]).length;s--;)p=v=(c=mc.exec(t[s])||[])[1],d=(c[2]||"").split(".").sort(),p&&(f=ja.event.special[p]||{},p=(i?f.delegateType:f.bindType)||p,f=ja.event.special[p]||{},l=ja.extend({type:p,origType:v,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&ja.expr.match.needsContext.test(i),namespace:d.join(".")},o),(h=u[p])||((h=u[p]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,r,d,a)||e.addEventListener&&e.addEventListener(p,a)),f.add&&(f.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,l):h.push(l),ja.event.global[p]=!0)},remove:function(t,e,n,r,i){var o,a,c,u,s,l,f,h,p,d,v,m=nc.hasData(t)&&nc.get(t);if(m&&(u=m.events)){for(s=(e=(e||"").match(Wa)||[""]).length;s--;)if(p=v=(c=mc.exec(e[s])||[])[1],d=(c[2]||"").split(".").sort(),p){for(f=ja.event.special[p]||{},h=u[p=(r?f.delegateType:f.bindType)||p]||[],c=c[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)l=h[o],!i&&v!==l.origType||n&&n.guid!==l.guid||c&&!c.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(h.splice(o,1),l.selector&&h.delegateCount--,f.remove&&f.remove.call(t,l));a&&!h.length&&(f.teardown&&!1!==f.teardown.call(t,d,m.handle)||ja.removeEvent(t,p,m.handle),delete u[p])}else for(p in u)ja.event.remove(t,p+e[s],n,r,!0);ja.isEmptyObject(u)&&nc.remove(t,"handle events")}},dispatch:function(t){var e,n,r,i,o,a,c=ja.event.fix(t),u=new Array(arguments.length),s=(nc.get(this,"events")||{})[c.type]||[],l=ja.event.special[c.type]||{};for(u[0]=c,e=1;e<arguments.length;e++)u[e]=arguments[e];if(c.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,c)){for(a=ja.event.handlers.call(this,c,s),e=0;(i=a[e++])&&!c.isPropagationStopped();)for(c.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!c.isImmediatePropagationStopped();)c.rnamespace&&!c.rnamespace.test(o.namespace)||(c.handleObj=o,c.data=o.data,void 0!==(r=((ja.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u))&&!1===(c.result=r)&&(c.preventDefault(),c.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,c),c.result}},handlers:function(t,e){var n,r,i,o,a,c=[],u=e.delegateCount,s=t.target;if(u&&s.nodeType&&!("click"===t.type&&1<=t.button))for(;s!==this;s=s.parentNode||this)if(1===s.nodeType&&("click"!==t.type||!0!==s.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=e[n]).selector+" "]&&(a[i]=r.needsContext?-1<ja(i,this).index(s):ja.find(i,this,null,[s]).length),a[i]&&o.push(r);o.length&&c.push({elem:s,handlers:o})}return s=this,u<e.length&&c.push({elem:s,handlers:e.slice(u)}),c},addProp:function(e,t){Object.defineProperty(ja.Event.prototype,e,{enumerable:!0,configurable:!0,get:Ea(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(t){return t[ja.expando]?t:new ja.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==bc()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===bc()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&Ua(this,"input"))return this.click(),!1},_default:function(t){return Ua(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},ja.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},ja.Event=function(t,e){if(!(this instanceof ja.Event))return new ja.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?gc:yc,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&ja.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[ja.expando]=!0},ja.Event.prototype={constructor:ja.Event,isDefaultPrevented:yc,isPropagationStopped:yc,isImmediatePropagationStopped:yc,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=gc,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=gc,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=gc,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},ja.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&dc.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&vc.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},ja.event.addProp),ja.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,i){ja.event.special[t]={delegateType:i,bindType:i,handle:function(t){var e,n=t.relatedTarget,r=t.handleObj;return n&&(n===this||ja.contains(this,n))||(t.type=r.origType,e=r.handler.apply(this,arguments),t.type=i),e}}})),ja.fn.extend({on:function(t,e,n,r){return xc(this,t,e,n,r)},one:function(t,e,n,r){return xc(this,t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,ja(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"!=typeof t)return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=yc),this.each((function(){ja.event.remove(this,t,n,e)}));for(i in t)this.off(i,e,t[i]);return this}});var _c=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,wc,Ec;function Tc(t,e,n){for(var r,i=e?ja.filter(e,t):t,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||ja.cleanData(uc(r)),r.parentNode&&(n&&ic(r)&&sc(uc(r,"script")),r.parentNode.removeChild(r));return t}ja.extend({htmlPrefilter:function(t){return t.replace(_c,"<$1></$2>")},cleanData:function(t){for(var e,n,r,i=ja.event.special,o=0;void 0!==(n=t[o]);o++)if(tc(n)){if(e=n[nc.expando]){if(e.events)for(r in e.events)i[r]?ja.event.remove(n,r):ja.removeEvent(n,r,e.handle);n[nc.expando]=void 0}n[rc.expando]&&(n[rc.expando]=void 0)}}}),ja.fn.extend({detach:function(t){return Tc(this,t,!0)},remove:function(t){return Tc(this,t)},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(ja.cleanData(uc(t,!1)),t.textContent="");return this}}),wc=fa.createElement("input"),Ec=fa.createElement("select").appendChild(fa.createElement("option")),wc.type="checkbox",wa.checkOn=""!==wc.value,wa.optSelected=Ec.selected,(wc=fa.createElement("input")).value="t",wc.type="radio",wa.radioValue="t"===wc.value;var Sc,Oc=ja.expr.attrHandle;ja.fn.extend({attr:function(t,e){return Ka(this,ja.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each((function(){ja.removeAttr(this,t)}))}}),ja.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?ja.prop(t,e,n):(1===o&&ja.isXMLDoc(t)||(i=ja.attrHooks[e.toLowerCase()]||(ja.expr.match.bool.test(e)?Sc:void 0)),void 0!==n?null===n?void ja.removeAttr(t,e):i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):i&&"get"in i&&null!==(r=i.get(t,e))?r:null==(r=ja.find.attr(t,e))?void 0:r)},attrHooks:{type:{set:function(t,e){if(!wa.radioValue&&"radio"===e&&Ua(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r=0,i=e&&e.match(Wa);if(i&&1===t.nodeType)for(;n=i[r++];)t.removeAttribute(n)}}),Sc={set:function(t,e,n){return!1===e?ja.removeAttr(t,n):t.setAttribute(n,n),n}},ja.each(ja.expr.match.bool.source.match(/\w+/g),(function(t,e){var a=Oc[e]||ja.find.attr;Oc[e]=function(t,e,n){var r,i,o=e.toLowerCase();return n||(i=Oc[o],Oc[o]=r,r=null!=a(t,e,n)?o:null,Oc[o]=i),r}}));var kc=/^(?:input|select|textarea|button)$/i,Nc=/^(?:a|area)$/i;ja.extend({prop:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&ja.isXMLDoc(t)||(e=ja.propFix[e]||e,i=ja.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=ja.find.attr(t,"tabindex");return e?parseInt(e,10):kc.test(t.nodeName)||Nc.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),wa.optSelected||(ja.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),ja.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){ja.propFix[this.toLowerCase()]=this})),wa.focusin="onfocusin"in window;var jc=/^(?:focusinfocus|focusoutblur)$/,Cc=function(t){t.stopPropagation()},Ac;ja.extend(ja.event,{trigger:function(t,e,n,r){var i,o,a,c,u,s,l,f,h=[n||fa],p=ba.call(t,"type")?t.type:t,d=ba.call(t,"namespace")?t.namespace.split("."):[];if(o=f=a=n=n||fa,3!==n.nodeType&&8!==n.nodeType&&!jc.test(p+ja.event.triggered)&&(-1<p.indexOf(".")&&(p=(d=p.split(".")).shift(),d.sort()),u=p.indexOf(":")<0&&"on"+p,(t=t[ja.expando]?t:new ja.Event(p,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=d.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:ja.makeArray(e,[t]),l=ja.event.special[p]||{},r||!l.trigger||!1!==l.trigger.apply(n,e))){if(!r&&!l.noBubble&&!Ta(n)){for(c=l.delegateType||p,jc.test(c+p)||(o=o.parentNode);o;o=o.parentNode)h.push(o),a=o;a===(n.ownerDocument||fa)&&h.push(a.defaultView||a.parentWindow||window)}for(i=0;(o=h[i++])&&!t.isPropagationStopped();)f=o,t.type=1<i?c:l.bindType||p,(s=(nc.get(o,"events")||{})[t.type]&&nc.get(o,"handle"))&&s.apply(o,e),(s=u&&o[u])&&s.apply&&tc(o)&&(t.result=s.apply(o,e),!1===t.result&&t.preventDefault());return t.type=p,r||t.isDefaultPrevented()||l._default&&!1!==l._default.apply(h.pop(),e)||!tc(n)||u&&Ea(n[p])&&!Ta(n)&&((a=n[u])&&(n[u]=null),ja.event.triggered=p,t.isPropagationStopped()&&f.addEventListener(p,Cc),n[p](),t.isPropagationStopped()&&f.removeEventListener(p,Cc),ja.event.triggered=void 0,a&&(n[u]=a)),t.result}},simulate:function(t,e,n){var r=ja.extend(new ja.Event,n,{type:t,isSimulated:!0});ja.event.trigger(r,null,e)}}),ja.fn.extend({trigger:function(t,e){return this.each((function(){ja.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];if(n)return ja.event.trigger(t,e,n,!0)}}),wa.focusin||ja.each({focus:"focusin",blur:"focusout"},(function(n,r){var i=function(t){ja.event.simulate(r,t.target,ja.event.fix(t))};ja.event.special[r]={setup:function(){var t=this.ownerDocument||this,e=nc.access(t,r);e||t.addEventListener(n,i,!0),nc.access(t,r,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this,e=nc.access(t,r)-1;e?nc.access(t,r,e):(t.removeEventListener(n,i,!0),nc.remove(t,r))}}})),wa.createHTMLDocument=(Ac=fa.implementation.createHTMLDocument("").body,Ac.innerHTML="<form></form><form></form>",2===Ac.childNodes.length),ja.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(wa.createHTMLDocument?((r=(e=fa.implementation.createHTMLDocument("")).createElement("base")).href=fa.location.href,e.head.appendChild(r)):e=fa),o=!n&&[],(i=za.exec(t))?[e.createElement(i[1])]:(i=pc([t],e,o),o&&o.length&&ja(o).remove(),ja.merge([],i.childNodes)));var r,i,o};var Dc=qr.prop("set"),Pc=qr.type("string"),Lc=qr.type("func"),Mc=qr.type("object"),Ic=qr.html("decode"),Rc=qr.convert("string"),qc=qr.each("array"),Hc=qr.each("object"),Fc=qr.map(),$c=qr.noop(),Uc=qr.eq(),zc=qr.v8(),Jc=qr.broken,Bc={class:"className",style:"style.cssText",placeholder:"@placeholder",maxlength:"@maxlength",minLength:"@minLength",max:"@max",min:"@min",href:"@href",checked:"*checked",disabled:"*disabled",readonly:"*readonly",required:"*required",selected:"*selected",controls:"*controls",ended:"*ended",muted:"*muted",hidden:"*hidden",seeking:"*seeking",paused:"*paused",loop:"*loop",autoplay:"*autoplay",multiple:"*multiple",autofocus:"*autofocus",autocomplete:"*autocomplete",draggable:"*draggable",spellcheck:"*spellcheck",translate:"*translate",specified:"*specified",defer:"*defer",async:"*async"},Xc=["no","replace","append","remove","modifytext","withtext","removetext","addattr","modifyattr","removeattr"],Gc=new RegExp("</([^><]+?)>|<([^><]+?)/>|<([^><]+?)>|([^><]+)|$","g"),Wc={input:1,br:1,hr:1,img:1,meta:1,area:1,base:1,col:1,isindex:1,command:1,embed:1,keygen:1,link:1,head:1,param:1,source:1,track:1,wbr:1,path:1,circle:1,ellipse:1,line:1,rect:1,use:1,stop:1,polyline:1,polygon:1},Kc=/(\S+)=["'](.*?)["']|([\w-]+)/gi,Yc=/^\{|\}$/gi,Vc=/^\{([^'"\s]+)\}$/i,Zc=/^[\r\n\f\t\s]+|[\r\n\f\t\s]+$/gi,Qc=/^default[^\s]+/i,tu=function t(e,n,r){var i=Bc[n]||n,o=Pc(r)?Ic(r):r;if(Qc.test(i)){i=i.slice(7).toLowerCase();var a=e.getAttribute(i)||e[i];null!=a&&""!==a||t(e,i,o)}else"*"===i[0]?Dc(e,i.slice(1),"true"===o||!0===o):"@"===i[0]?e.setAttribute(i.slice(1),o):":"===i[0]?ja(e).on(i.slice(1),o):Dc(e,i,o)},eu=function(t,e,n){if(":"===e[0]&&Lc(n))ja(t).off(e.slice(1),n);else if(t[e]&&!delete t[e])try{t[e]=null}catch(t){}else t.removeAttribute(e)},nu=function(t,e,n){var r,i=e;return Vc.test(e)&&(i=void 0!==(r=n[e.replace(Yc,"")])?r:e),":"===t[0]&&(i=Lc(r)?r:Function("event",Rc(e))),i},ru=function(n,t){var r={};return Hc(t,(function(t,e){n[e]===t&&(r[e]=1)})),r},iu=[$c,function(t){var e=t.s;e&&e.parentNode&&e.parentNode.replaceChild(t.n,e)},function(t){var e=t.s;e&&e.appendChild(t.n)},function(t){var e=t.s;e.parentNode&&e.parentNode.removeChild(e)},function(t){var e=t.s;if(t.isSlot)return e.parentNode.replaceChild(t.n,e);e.textContent=Ic(t.c)},function(t){var e=t.s;if(t.isSlot)return e.parentNode.replaceChild(t.n,e);e.textContent=Ic(t.c)},function(t){t.s.innerHTML=t.n.innerHTML},function(n){Hc(n.a,(function(t,e){tu(n.s,e,t)}))},function(t){var n=t.s,r=ru(t.o,t.a);Hc(t.o,(function(t,e){e in r||eu(n,e,t)})),Hc(t.a,(function(t,e){e in r||tu(n,e,t)}))},function(n){Hc(n.a,(function(t,e){eu(n.s,e,t)}))}],ou=function(t,e){var n=Pc(t)?t:"";if(n&&e){var r={},i=n.trim().split("::");return r.name=i[0],r.path=i[1],r.root=e,r}},au={treeDiff:function(t,e,n,r,i,o){if(void 0===t)n.unshift(this.createPatch(r,e,2,o));else if(void 0===e)n.push(this.createPatch(t,0,3,o));else if(t.tagName===e.tagName){if(e.isSlot||t.isSlot)return n.push(this.createPatch(t,e,5,o)),n;if(Uc(t.attributes,e.attributes)||(t.attributes&&e.attributes?n.push(this.createPatch(t,e,8,o)):t.attributes?e.attributes||n.push(this.createPatch(t,e,9,o)):n.push(this.createPatch(t,e,7,o))),t.text!==e.text)return t.text&&e.text&&t.text!==e.text?n.push(this.createPatch(t,e,4,o)):t.text?e.text||n.push(this.createPatch(t,e,6,o)):n.push(this.createPatch(t,e,5,o)),n;var a,c=t.child.length,u=e.child.length;if(c||u)if(c<u){for(a=c;a<u;a++)n.push(this.createPatch(t,e.child[a],2,o));for(a=c;a--;)this.treeDiff(t.child[a],e.child[a],n,t,e,o)}else if(u<c){for(a=c-1;u<=a;a--)n.push(this.createPatch(t.child[a],0,3,o));for(a=u;a--;)this.treeDiff(t.child[a],e.child[a],n,t,e,o)}else for(a=Math.max(c,u);a--;)this.treeDiff(t.child[a],e.child[a],n,t,e,o)}else t.tagName!==e.tagName&&n.push(this.createPatch(t,e,1,o));return n},applyPatch:function(e,t){qc(Fc(t,function(t){return t.path=t.s,t.s=this.mapTreeNode(e,t.s),t}.bind(this)),(function(t){iu[t.t].call(e,t)}))},mapTreeNode:function(t,e){for(var n,r=0,i=t.children;r<e.length&&i[e[r]];r++)i=(n=i[e[r]]).children;return n},createSelector:function(t){for(var e=[t.i];t=t.parent;)void 0!==t.i&&e.unshift(t.i);return e},createPatch:function(t,e,n,r){var i,o=this.createSelector(t),a=e.isSlot;switch(Xc[n]){case"replace":i={t:1,s:o,n:this.createDOMElement(e,r)};break;case"append":i={t:2,s:o,n:this.createDOMElement(e,r)};break;case"remove":i={t:3,s:o};break;case"modifytext":i={t:4,s:o,c:e.text,isSlot:a},a&&(i.n=this.createDOMElement(e,r));break;case"withtext":i={t:5,s:o,c:e.text,isSlot:a},a&&(i.n=this.createDOMElement(e,r));break;case"removetext":i={t:6,s:o,n:this.createDOMElement(e,r)};break;case"addattr":i={t:7,s:o,a:e.attributes};break;case"modifyattr":i={t:8,s:o,a:e.attributes,o:t.attributes};break;case"removeattr":i={t:9,s:o,a:t.attributes};break;default:i={t:0}}return i},createTreeFromHTML:function(t,o){var a,e={tagName:"__CUBEC_VIEWROOT__",isRoot:!0,child:[]},c=e,u=e.child;return t.replace(Gc,function(t,e,n,r,i){return t&&t.replace(Zc,"")&&(e?(c=c.parent,u=c.child):n?((a=this.createObjElement(n,o)).i=u.length,u.push(a),a.parent=c):r?((a=this.createObjElement(r,o)).i=u.length,u.push(a),a.parent=c,a.tagName in Wc||(u=(c=a).child)):i&&i.trim()&&(c.text=i)),t}.bind(this)),e},createObjElement:function(t,e){var n=t.split(" "),r=Mc(e)?e:{},i=n.shift(),o=n.join(" "),a={tagName:i,child:[]};if("slot"===i&&(a.isSlot=!0),o){for(var c,u,s={};c=Kc.exec(o);)c[1]?s[c[1]]=nu(c[1],c[2],r):u=u?(s[u]=nu(u,c[0],r),0):c[0];a.attributes=s}return a},createDOMElement:function(t,e){var n=document.createElement(t.tagName);if(e&&t.attributes&&t.attributes.ref&&(e.refs[t.attributes.ref]=n),Hc(t.attributes,(function(t,e){tu(n,e,t)})),e&&t.isSlot){var r=ou(t.text,n);return r&&e._ass(Jc).push(r),n}return t.text&&(n.textContent=Ic(t.text)),t.child.length&&qc(t.child,(function(t){n.appendChild(this.createDOMElement(t,e))}),this),n}},cu=Object.freeze(zc(au)),uu=0,su=qr.broken,lu=qr.doom(),fu=qr.doom("cache"),hu=qr.lock(),pu=qr.extend(),du=qr.some(),vu=qr.each("array"),mu=qr.each("object"),gu=qr.slice(),yu=qr.type("func"),bu=qr.type("string"),xu=qr.type("number"),_u=qr.type("array"),wu=qr.type("object"),Eu=qr.type("elm"),Tu=qr.type("arraylike"),Su=qr.prop("get"),Ou=qr.size(),ku=qr.ayc(),Nu=qr.noop(),ju=qr.link(),Cu=qr.clone(),Au=qr.define(),Du=qr.convert("string"),Pu=qr.event("on"),Lu=qr.event("off"),Mu=qr.event("emit"),Iu=qr.event("has"),Ru=qr.fireEvent();function qu(t){if(!Eu(t)&&!Tu(t))throw new TypeError("el must be typeof DOMElement or NodeList collections -> not "+t);return!0}function Hu(t){return!t}function Fu(e){return function(){var t=Ru(e,"beforeRender",arguments);return!(t&&t.length&&du(t,Hu))&&arguments}}function $u(e,n){return function(t){return n.apply(e,t)}}function Uu(e){return function(t){return t!==su?(e.root._vid=e._vid,e.emit("completeRender",t)):e.emit("catch")}}function zu(e,t){var n=Fu(e),r=$u(e,t),i=Uu(e);return ju(n,(function(t){return t&&ku(ju((function(){return t}),r,i)),e}))}function Ju(e,t){return function(){try{return t.apply(e,arguments)}catch(t){if(console.error("view {custom} render static throw error with using illegality arguments",t,arguments),!Iu(e,"catch"))throw t;return su}}}function Bu(n,t){if(yu(t)){var r=zu(n,t.bind(n)),i=n._asb(su);Au(n,"render",{get:function(){return r},set:function(t){if(yu(t)){var e=n.render;r=zu(n,Ju(n,t.bind(n))),Ou(i)&&mu(i,(function(t){Fi.call(t,"change",e),Hi.call(t,"change",r)}))}return r},enumerable:!1,configurable:!1})}return n}function Xu(t,e){var n=t._ass(su);t&&n.length&&vu(n.splice(0,n.length),Gu.bind(t,e))}function Gu(t,e,n){var r=Su(this,e.name);if(r){var i="_cslot-".concat(this.name||"v".concat(this._vid)),o=t[0],a=e.path&&wu(o)?[Su(o,e.path)]:t;return e.root.setAttribute("id",i),(r.constructor===Ku&&r._isExtender?function(){var t=r({root:e.root});t.render.apply(t,a)}:r instanceof Ku&&xu(r._vid)?function(){r.root?(r.root.setAttribute("id",i),e.root.parentNode.replaceChild(r.root,e.root),r.render.apply(r,a)):r.mount.apply(r,[e.root].concat(a))}:yu(r)?function(){r.apply(this,[e.root].concat(a))}.bind(this):bu(r)||xu(r)?function(){e.root.textContent=r}:function(){e.root.textContent=""})()}}function Wu(t,e,n){return'<ct id="_c-'.concat(e||"v"+n,'">').concat(t,"</ct>")}ja.fn.render=function(i,o,a,c){return this.each((function(t,e){var n=cu.createTreeFromHTML(i,a);if(e._vid===o._vid&&o.axml)return cu.applyPatch(e,cu.treeDiff(o.axml,n,[],null,null,o),o.axml=n),Xu(o,c),o;e._destory=function(){return o.destroy()};var r=cu.createDOMElement(o.axml=n,o).firstElementChild;return Xu(o,c),e.appendChild(r,e.innerHTML=""),o}))};var Ku=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.refs={};var e={},n=[];ni(this,{_vid:uu++,_asb:function(t){return t===su?e:{}},_ass:function(t){return t===su?n:[]}}),t=pu(Cu(sa.DEFAULT_OPTION),t||{});var r=hu(wu(t.props)?t.props:{}),i=t.root,o=t.render,a=t.events,c=t.name,u=t.connect,s=_u(u)?u:u instanceof vo||u instanceof ca?[u]:[],l=t.template;o=yu(o)?Ju(this,o):(l=bu(l)?(t.cache?fu:lu)(Wu(l.trim(),c,this._vid),r):yu(l)?l:Nu)!=Nu?function(){var t=gu(arguments);try{return t[0]instanceof vo&&(t[0]=t[0].get()),t[0]instanceof ca&&(t[0]=t[0].toChunk()),this.directRender?(this.axml=null,this.root.innerHTML=l.apply(this,t)||""):ja(this.root).render(l.apply(this,t),this,r,t),arguments}catch(t){if(console.error("view render static throw error with using illegality arguments",t,arguments),!Iu(this,"catch"))throw t;return su}}:Nu,i&&qu(i)?(this.root=i,mu(a,Qr,Bu(this,o)),this.connect.apply(this,s)):(a&&a.init&&(this.on("init",a.init),delete a.init),this.mount=function(t){return qu(t)&&(this.root=i=t,mu(a,Qr,Bu(this,o)),this.connect.apply(this,s),1 in arguments&&this.render.apply(this,gu(arguments,1)),delete this.mount),this}),pu(this,t,sa.IGNORE_KEYWORDS).emit("init").off("init")},Yu=1,Vu={};function Zu(t){t.data&&t.data.iid&&(Vu[t.data.iid]=!0)}function Qu(t){t.data&&t.data.iid&&(Vu[t.data.iid]=!1,ja(t.target).trigger("input"))}function ts(t){var e=0;if(null!=t.selectionStart)e=t.selectionStart;else if(document.selection){t.focus();var n=document.selection.createRange();n.moveStart("character",-t.value.length),e=n.text.length}return e}function es(t,e){if(t.createTextRange){var n=t.createTextRange();return n.move("character",e),n.select()}return t.selectionStart?t.setSelectionRange(e,e,t.focus()):t.focus()}function ns(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Ku.prototype={constructor:Ku,inject:function(t){var e=t||this.root;return e._vid=Ku._vid,this.axml=cu.createTreeFromHTML(e.innerHTML),this},on:function(t,a){return yu(a)&&vu(Du(t).split("|"),(function(t){var e=t.split(":");if(1<e.length)if("input"===e[0]){var n=Yu++,r={iid:n},i=function(t){if(Vu[n])return!1;t.target.focus&&t.target.focus();var e=ts(t.target);a.apply(this,arguments),e&&es(t.target,e)}.bind(this);a._fn=i,ja(this.root).on("compositionstart",r,Zu).on("compositionend",r,Qu).on(e[0],e[1],i)}else{var o=a.bind(this);a._fn=o,ja(this.root).on(e[0],e[1],o)}else Pu(this,t,a)}),this),this},off:function(t,n){return t&&bu(t)?vu(t.split("|"),(function(t){var e=t.split(":");1<e.length?ja(this.root).off(e[0],e[1],n&&n._fn||n):Lu(this,t,n)}),this):(ja(this.root).off(),Lu(this)),this},emit:function(t,n){var e=Du(t),r=e.split(":");return 2<r.length?(vu(e.split("|"),(function(t){var e=t.split(":");ja(this.root).find(e[1]).trigger(e[0],n)}),this),this):1<r.length?(ja(this.root).find(r[1]).trigger(r[0],n),this):Mu(this,t,n)},connect:function(){var t,e=this,n=this._asb(su);return(t=Tu(arguments[0])?arguments[0]:gu(arguments)).length&&vu(t,(function(t){(t instanceof vo||t instanceof ca)&&null!=t._mid&&(n[t._mid]||(n[t._mid]=t,Hi.call(t,"change",e.render)))})),this},disconnect:function(){var t,e=this,n=this._asb(su);return(t=Tu(arguments[0])?arguments[0]:gu(arguments)).length&&vu(t,(function(t){(t instanceof vo||t instanceof ca)&&null!=t._mid&&n[t._mid]&&(delete n[t._mid],Fi.call(t,"change",e.render))})),this},destroy:function(t){var e=this;this.emit("beforeDestroy"),this.root._vid=void 0;return ja(e.root).off(),e.root.innerHTML="",e.root.parentNode&&t&&e.root.parentNode.removeChild(e.root),void e.emit("destroy",delete e.root)}};var rs=ns;function is(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function os(t,e,n){return e&&is(t.prototype,e),n&&is(t,n),t}var as=os,cs=[],us=window.history,ss=/\/:([^\s/]+)/g,ls="/([^\\s\\/]+)",fs=qr.merge(),hs=qr.type("def"),ps=qr.each(),ds=qr.map(),vs=qr.string("trim"),ms=qr.keys(),gs=qr.slice(),ys=qr.combined(),bs=qr.type("string"),xs=qr.type("array"),_s=qr.noop(),ws=qr.param("stringify"),Es=qr.convert("number"),Ts=qr.cloneDeep(),Ss=qr.param("parse");function Os(t){return t&&t!==location.pathname&&t!==location.pathname+"/"}function ks(){return!0}function Ns(e,t,n,r,i){var o=!(5<arguments.length&&void 0!==arguments[5])||arguments[5],a=Os(t);if((!o||a)&&this._status){var c,u,s,l,f,h=this,p=ms(e.mapping);for(r=hs(r,"Object")?r:bs(r)?JSON.parse(r):{},c=0,u=p.length;c<u;c++)if((s=e.mapping[p[c]]).test(t)){l=p[c],f=ys(e.params[l],gs(s.exec(t),1));break}if(l){var d=bs(n)?("?"!==n.charAt(0)?"?":"")+n:hs(n,"Object")?"?"+ws(n):"";if(n=hs(n,"Object")?n:Ss(n),e.beforeActions(t,f,n,r)){var v=e.routes[l];ps(ds(v,(function(t){return e.actions[t]||_s})),(function(t){return t.call(h,f,n,r)})),i||us[a?"pushState":"replaceState"](r,null,t+d),e.completedActions(t,f,n,r)}}}return this}var js={routes:{},actions:{},beforeActions:ks,completedActions:_s},Cs=(function(){function o(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};rs(this,o);var n=this,i=fs(Ts(js),t);this._status=0,this._assert=function(t){if(t===cs)return i};var e,r={};(e=ds(i.elements,(function(t){return"click:"+t})).join("|"))&&(r[e]=function(t){t.preventDefault();var e=t.currentTarget;return n.to(e.to||e.getAttribute("to")||e.getAttribute("href"),e.query||e.getAttribute("query"),e.state||e.getAttribute("state"),0,1)},this._delegator=new Ku({root:document.documentElement,render:_s,events:r})),i.mapping={},i.params={},i.routes=ds(i.routes,(function(t){return xs(t)?t:[t]})),ps(i.routes,(function(t,e){var n=[],r=vs(e).replace(ss,(function(t,e){return n.push(e),ls}));i.params[e]=n,i.mapping[e]=RegExp("^"+r+"[/]?$")})),window.addEventListener("popstate",function(t){return Ns.call(this,i,location.pathname,location.search,t.state,!0,!1,!0)}.bind(this))}return as(o,[{key:"to",value:function(t,e,n,r,i){return Ns.call(this,this._assert(cs),t,e,n,r,i)}},{key:"back",value:function(){return us.back(),this}},{key:"go",value:function(t){var e=Es(t);return e&&us.go(e),this}},{key:"start",value:function(t,e,n){return this._status?this:(this._status=1,t&&bs(t)?this.to(t,e,n,!0,!1):this.to(location.pathname,location.search,{},!0,!1))}},{key:"stop",value:function(){return this._status=0,this}},{key:"resolve",value:function(t){return this._status&&us.replaceState(hs(t,"Object")?t:{_resolveTimeStamp:Date.now()},null,location.href),this}}]),o})(),As=qr.type("required"),Ds=qr.type("func"),Ps=qr.type("int"),Ls=qr.type("array"),Ms=qr.type("float"),Is=qr.type("string"),Rs=qr.type("object"),qs=qr.type("number"),Hs=qr.type("primitive"),Fs=qr.type("arraylike"),$s=qr.type("boolean"),Us=qr.v8(),zs=function(e,t){return function(t){return e(t)}},Js=function(e){return function(t){return t instanceof e}},Bs={isRequired:zs(As,"required"),isFunc:zs(Ds,"function"),isInt:zs(Ps,"int"),isArray:zs(Ls,"array"),isFloat:zs(Ms,"float"),isString:zs(Is,"string"),isObject:zs(Rs,"object"),isNumber:zs(qs,"number"),isArrayLike:zs(Fs,"arrayLike"),isPrimitive:zs(Hs,"primitive"),isBool:zs($s,"boolean"),isModel:zs(Js(vo),"model"),isAtom:zs(Js(ca),"atom")},Xs=Object.freeze(Us(Bs));function Gs(e){return function(t){return new e(t||{})}}var Ws=qr.merge();function Ks(n){return function(e){var t=function(t){return new n(Ws(e,t||{}))};return t.constructor=n,t._isExtender=!0,t}}var Ys=Object.create(null);Ys.version="1.4.5",Ys.struct=qr,Ys.verify=Xs,Ys.atom=Gs(ca),Ys.model=Gs(vo),Ys.view=Gs(Ku),Ys.router=Gs(Cs),Ys.atom.extend=Ks(ca),Ys.model.extend=Ks(vo),Ys.view.extend=Ks(Ku),Ys.router.extend=Ks(Cs);var Vs=qr,Zs=Xs,Qs=Ys.atom,tl=Ys.model,el=Ys.view,nl=Ys.router,rl=Object.freeze(Ys);t.struct=Vs,t.verify=Zs,t.atom=Qs,t.model=tl,t.view=el,t.router=nl,t.default=rl,Object.defineProperty(t,"__esModule",{value:!0})}));
