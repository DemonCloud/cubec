!(function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.cubec={})})(this,(function(t){"use strict";function e(t,e){return t(e={exports:{}},e.exports),e.exports}var n=e((function(e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=r=function(t){return n(t)}:e.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)},r(t)}e.exports=r})),r=window.localStorage,i="CUBEC@",o=function(t){return t.split("").reverse().join("")},h={t:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",ram:{},kAt:function(t,e){return t.charCodeAt(~~(e%t.length))},ecd:function(t){var e,n,r,i,o,a,c=0,u="";if(!t)return t;for(;e=(o=t[c++]<<16|t[c++]<<8|t[c++])>>18&63,n=o>>12&63,r=o>>6&63,i=63&o,u+=this.t.charAt(e)+this.t.charAt(n)+this.t.charAt(r)+this.t.charAt(i),c<t.length;);return((a=t.length%3)?u.slice(0,a-3):u)+"===".slice(a||3)},dcd:function(t){var e,n,r,i,o,a,c=0,u=[];if(!t)return t;for(t+="";e=(a=this.t.indexOf(t.charAt(c++))<<18|this.t.indexOf(t.charAt(c++))<<12|(i=this.t.indexOf(t.charAt(c++)))<<6|(o=this.t.indexOf(t.charAt(c++))))>>16&255,n=a>>8&255,r=255&a,u.push(e),64!==i&&(u.push(n),64!==o&&u.push(r)),c<t.length;);return u},incry:function(t,e){for(var n=0,r=t.length,i=[];n<r;n++)i[n]=t[n].charCodeAt(0)^this.kAt(e,n);return this.ecd(i)},decyt:function(t,e){for(var n=0,r=(t=this.dcd(t)).length;n<r;n++)t[n]=String.fromCharCode(t[n]^this.kAt(e,n));return t.join("")},set:function(t,e){r.setItem(i+this.incry(t,o(t)),this.incry(encodeURIComponent(e&&"object"===n(e)?JSON.stringify(e):e+""),t))},get:function(t){var e=r.getItem(i+this.incry(t,o(t)));return e?JSON.parse(decodeURIComponent(this.decyt(e,t))):0},rm:function(t){r.removeItem(i+this.incry(t,o(t)))}};function p(){return self||window||this}var a={},c=[],u="",s=c.slice,l=a.toString,f=u.trim,d=c.concat,v=eval,m=Object.freeze({}),g=p();function y(t,e){p[e]=function(){return t}}function b(e,t){p[t]=function(t){return e[tn(Z(t).toLowerCase())]||e.default}}function x(n,t,r){return ft(t,r?function(t,e){(C(r)?yt(r,e):null!=r&&e===r)||(n[e]=t)}:function(t,e){n[e]=t}),n}function _(t,e,n){return x(x(I(t)?[]:{},t),e,n)}function E(t,e,n){return O(e)?Object.defineProperties(t,e):Object.defineProperty(t,e,n)}function w(t){var e=at(arguments,1);return function(){return t.apply(null,e.concat(at(arguments)))}}function T(t,e){return function(){return(e.apply(null,arguments)?t:Y).apply(null,arguments)}}function S(t){return"function"==typeof t}function O(t){return!!t&&("object"===n(t)||S(t))}function k(t){return"string"==typeof t||t+""===t}function N(t){return"boolean"==typeof t&&!!t===t}function j(t){return"number"==typeof t&&t===+t}function A(t){return null==t||"object"!==n(t)}function D(t){return t&&R(t,"RegExp")}var C=Array.isArray,P=/^[a-z$_]+[a-z$_0-9]*$/i;function L(t){return null!=t&&P.test(t)}function M(t){return 0 in arguments&&void 0!==t}function R(t,e){return l.call(t)==="[object "+e+"]"}function I(t){return!!t&&!S(t)&&O(t)&&j(t.length)}function q(t){return"number"==typeof t&&t!=t}function H(t){return+t===t&&t%1==0}function F(t){return+t===t&&t%1!=0}function U(t){return t instanceof Date}function $(t){return k(t)?!Xn(t):A(t)||!Xn(t)}function J(t){return O(t)&&0<t.nodeType&&(t instanceof Node||t instanceof Element)}function z(t){return t instanceof Element}function B(t){return t instanceof Node}function W(t){var e=Function.prototype.toString,n=Object.prototype.hasOwnProperty,r=RegExp("^"+e.call(n).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");try{var i=e.call(t);return r.test(i)}catch(t){return!1}}var X=["array","function","null","undefined","arguments","boolean","string","number","date","regexp","nodeList","htmlcollection"];function G(t){var e=[C(t),S(t),null===t,void 0===t,R(t,"Arguments"),R(t,"Boolean"),R(t,"String"),R(t,"Number"),R(t,"Date"),R(t,"RegExp"),R(t,"NodeList"),R(t,"HTMLCollection")];return X[Ot(e,It(!0))]||"object"}function V(t){return t}function K(){}function Y(t){return t}function Z(t){return null!=t?S(t.toString)?t.toString():t+"":""}function Q(t){return+t&&"number"==typeof+t?+t:t>>0}function tt(t){var e=parseInt(~t.indexOf("#")?t.substr(1):t,16);return{r:e>>16,g:(65280&e)>>8,b:255&e}}function et(t){return((1<<24)+(t.r<<16)+(t.g<<8)+t.b).toString(16).substr(1)}function nt(t){var e=[];return O(t)||R(t,"String")?e=Vn(t):null!=t&&e.push(t),e}function rt(t){return-Q(t)}function it(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function ot(){return at(arguments)}function at(t,e,n){return I(t)?s.call(t,e,n):[]}function ct(t){return null!=t?C(t)||k(t)?Ct(Object.keys(t),Q):Object.keys(t):[]}function ut(t,e){return void 0===e?t:function(){return t.apply(e,arguments)}}function st(t,e,n){var r,i=t.length,o=ut(e,n);for(r=0;r<i;r++)o(t[r],r,t);return t}function lt(e,n,t){return st(ct(e),(function(t){n.call(this,e[t],t,e)}),t),e}function ft(t,e,n){return I(t)?st(t,e,n):O(t)&&null!==t?lt(t,e,n):t}function ht(t,e){if(I(t))return at(t);if(O(t)&&e){var n,r,i=ct(t),o={};for(n=i.length;n--;)o[r=i[n]]=t[r];return o}return A(t)?t:JSON.parse(JSON.stringify(t))}var pt=function(){};function dt(t){var e=t;if(I(t))e=at(t).map(T(dt,Yn(A)));else if(!(A(t)||t instanceof Node)){lt(t,(function(t,e){this[e]=A(t)?t:dt(t)}),e=(pt.prototype=t.constructor.prototype)!==Object.prototype?new pt:{})}return e}function vt(t,e){return t.test(e)}function mt(t,e,n,r){var i=2 in arguments,o=ut(e,r);return n=i?n:At(t),at(t,i?0:1).reduce(o,n)}function gt(t,e,n,r){var i=2 in arguments,o=ut(e,r);return n=i?n:Dt(t),at(t,0,i?void 0:-1).reduceRight(o,n)}function yt(t,e,n){var r,i=D(e)?vt:n?Ne:Mt,o=!1;if(I(t))for(r=t.length;r--&&!(o=i(e,t[r])););else if(O(t)){var a=ct(t);for(r=a.length;r--&&!(o=i(e,t[a[r]])););}return o}function bt(t,e,n){return yt(ct(t),e,n)}function xt(t,e,n){return n?t.splice(e,1):delete t[e]}function _t(t,e,n){for(var r=D(e)?vt:n?Ne:Mt,i=C(t),o=ct(t),a=0;a<o.length;a++)r(e,t[o[a]])&&xt(t,o[a],i)&&i&&(o.pop(),a--);return t}function Et(t,e,r){var n=[],i=D(e)?w(vt,e):S(e)?e:It(e);return ft(ht(t),(function(t,e,n){i.apply(n,arguments)&&this.push(r?e:t)}),n),n}function wt(t,e,n){return Et(t,Yn(e),n)}function Tt(t,e){var n,r,i=!0;for(r=(n=ct(t)).length;r--&&(i=e(t[n[r]],n[r],t)););return i}function St(t,e){var n,r,i=!1;for(r=(n=ct(t)).length;r--&&!(i=e(t[n[r]],n[r],t)););return i}function Ot(t,e){var n=Et(t,e,!0);return 1===n.length?n.pop():n.length?n:null}function kt(t,e){var n=Ot(t,e);return A(n)?n:n.pop()}function Nt(t,e){var n=Ot(t,e);return A(n)?n:n.shift()}function jt(t,e){var n=Nt(t,e);return null===n?n:t[n]}function At(t){return I(t)?t[0]:t}function Dt(t){return I(t)?t[t.length-1]:t}function Ct(t,r){var e=I(t),i=e?[]:{};return(e?st:lt)(t,(function(t,e,n){i[e]=this?r.call(n,t,e,n):t[r]}),S(r)),i}function Pt(e,n){var r={};return lt(e,(function(t){r[n.apply(e,arguments)]=t})),r}function Lt(t,e){var n,r,i=[],o=D(e)?w(vt,e):S(e)?e:It(e);if(C(t))for(n=0,r=t.length;n<r;n++)o.call(t,t[n],n,t)&&i.push(t.splice(n,1).pop(n--));else if(O(t)){var a;for(a in t)if(o.call(t,t[a],a,t)){var c={};c[a]=t[a],i.push(c),delete t[a]}}return i}function Mt(t,e){return t===e}function Rt(t,e){return t!==e}function It(e){return function(t){return t===e}}function qt(t){for(var e={},n=j(At(t)),r=0;r<t.length;r++)e[t[r]]||(e[t[r]]=!0);return Ct(ct(e),n?Q:Y)}function Ht(t,e){for(var n,r=at(t),i=e?Ne:Mt,o=[],a=0;a<r.length;a++)if(void 0!==r[a])for(o.push(r[a]),n=a+1;n<r.length;n++)i(r[a],r[n])&&(r[n]=void 0);return o}function Ft(t,e){var n=S(e);return Ct(t,(function(t){return(n?e:t[e]).apply(t,arguments)}))}function Ut(t,e,n){var r=[],i=Z(e);return ft(t,(function(t){var e=Jn(t,i,n);return void 0!==e&&this.push(e)}),r),r}function $t(t,n){var e={},r=S(n);return ft(t,(function(t){var e=r?n(t):Jn(t,n);e&&(this[e]?this[e].push(t):this[e]=[t])}),e),e}function Jt(t,n){var r={},i=S(n);return ft(t,(function(t){var e=i?n(t):Jn(t,n);e&&(r[e]?this[e]+=1:this[e]=1)}),r),r}function zt(t){var e,n,r=[],i=ct(t);for(e=0,n=i.length;e<n;e++)r.push([i[e],t[i[e]]]);return r}function Bt(t){var e,n,r={};for(e=0,n=t.length;e<n;e++)r[t[e][0]]=t[e][1];return r}function Wt(t){return Et(t,Yn(w(yt,le(at(arguments,1),!0))))}function Xt(t){var n=le(at(arguments,1),!0);return Et(t,(function(t,e){return!yt(n,e)}))}var Gt=_t;function Vt(t){for(var e,n=t.length,r=new Array(n),i=0;i<n;i++)(e=ve(0,i))!==i&&(r[i]=r[e]),r[e]=t[i];return r}function Kt(t,e){var n,r,i=parseInt(Q(e))||2,o=[];for(n=0,r=t.length;n<r;n+=i)o.push(t.slice(n,n+i));return o}function Yt(t){return Et(t,Y)}function Zt(){return d.apply([],arguments)}function Qt(c){return function(){var t,e,n,r=[],i=!0,o=Zt.apply([],arguments),a=c?Ne:Mt;for(t=0;t<o.length;t++){for(n=o[t],e=0;e<o.length;e++)if(t!==e&&a(n,o[e])){i=!1;break}i&&r.push(n),i=!0}return r}}var te=Qt(),ee=Qt(!0);function ne(c){return function(){var t,e,n,r,i=at(arguments[0]),o=arguments.length,a=[];for(t=0;t<i.length;t++)if(r=!0,!yt(a,n=i[t],c)){for(e=1;e<o;e++)if(!yt(arguments[e],n,c)){r=!1;break}r&&a.push(n)}return a}}var re=ne(),ie=ne(!0);function oe(t,e){return!A(t)&&!A(e)&&(R(t,"Object")&&R(e,"Object")||I(t)&&I(e))}function ae(t){var e,n=at(arguments);return C(t)?mt(n,(function(i,t){return st(t,(function(t,e){var n=i[e],r=t;i[e]=oe(n,r)?ae(n,r):r})),e=i}),[]):O(t)&&mt(n,(function(r,i){return st(ct(i),(function(t){var e=r[t],n=i[t];r[t]=oe(e,n)?ae(e,n):n})),e=r}),{}),e}function ce(t,e){return at(t,Q(e)||1)}function ue(t,e){return at(t,0,-(Q(e)||1))}function se(t,e){var n,r=at(t),i=void 0===this?"shift":"pop",o=D(e)?w(vt,e):S(e)?e:It(e);for(n=r.length;n--&&!o(r[i]()););return r}function le(){var t=Zt.apply([],arguments),n=!!R(Dt(t),"Boolean")&&t.pop();return mt(at(t),(function(t,e){return t.concat(n&&C(e)?le(e,n):e)}),[])}var fe="0123456789",he="abcdefghijklmnopqrstuvwxyz",pe=he.toUpperCase(),de="~`!@#$%^&*(){}[]-+=_|/.,><:;";function ve(t,e){return j(e)||(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}function me(t,e,n){j(e)||(e=t,t=0);var r=Math.random()*(e-t)+t;return Q(n)?+r.toFixed(n):r}function ge(t){return 100*Math.random()<Math.max(1,Math.min(Q(t||50),99))}function ye(t,e){var n=t?fe+de:"";return(n=(e?pe:he)+n).charAt(ve(0,Xn(n)-1))}function be(t){return(t?"#":"")+et({r:ve(0,255),g:ve(0,255),b:ve(0,255)})}function xe(t,e,n){for(var r=Q(t)||2,i=[];r--;)i[r]=ye(e,n);return i.join("")}function _e(){var t=Gn();return new Date(t+(ge()?Y:rt)(ve(0,t)))}function Ee(t){return ve(1,(t=0<Q(t)?Q(t):2)%2==0?t:t+1)}function we(t,e){var n=at(arguments,2),r=Ar[e]||Ar.default;return Ct(fr(t,0),(function(){return r.apply(null,n)}))}function Te(i){var o=at(arguments,1);return function(){for(var t=0,e=o.slice(),n=0,r=e.length;n<r;n++)e[n]===p&&(e[n]=arguments[t++]);for(;t<arguments.length;)e.push(arguments[t++]);return i.apply(this,e)}}function Se(t,e){var n;return function(){return 0<--t?n=e.apply(this,arguments):e=null,n}}function Oe(t,e){return Te(Se,(Q(e)||1)+1)(t)}function ke(t){return Oe(t)}function Ne(t,e){if(t===e||l.call(t)!==l.call(e)||A(t)&&A(e))return t===e;if(t.toString()===e.toString())if(C(t)){if(t.length===e.length){for(var n=t.length;n--;)if(!Ne(t[n],e[n]))return!1;return!0}}else{var r=ct(t),i=ct(e),o=r.length;if(r.length===i.length){for(;o--;)if(!Ne(t[r[o]],e[r[o]]))return!1;return!0}}return!1}var je=/[\t\r\n\f\x20]/g,Ae=/([^&=]+)=?([^&]*)/g;function De(t){var e={};return st(t,(function(t){e[t.name]=t.value})),e}function Ce(t){return decodeURIComponent(t.replace(/\+/g," "))}function Pe(t){return encodeURIComponent(t).replace(" ","%20")}function Le(t){for(var e,n=Z(t).split("#").shift(),r=n.indexOf("?"),i={},o=~r?n.substr(r+1):n;e=Ae.exec(o);)i[Ce(e[1])]=Ce(e[2]);return delete i[o],i}function Me(t){var e,n=ht(t);for(e in n)n[e]=Pe(O(n[e])?JSON.stringify(n[e]):n[e]);return JSON.stringify(n).replace(/["{}]/g,"").replace(/:/g,"=").replace(/,/g,"&").replace(je,"")}var Re={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"$quot;","'":"&#x27;","`":"&#x60"},Ie={"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"',"&#x27;":"'","&#x60;":"`"},qe=/\\|'|\r|\n|\u2028|\u2029/g,He={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Fe=/[&<">'](?:(amp|lt|quot|gt|#39);)?/g,Ue=/&((g|l|quo)t|amp|#39);/g,$e=/<script\b[^>]*>(.*?)<\/script>/gi,Je=/<!--([\s\S]*?)-->/gi,ze=/[\t\r\n\f]/gim,Be=/[A-Z]/g,We="[\\s\\x20\\xA0\\uFEFF]+",Xe=new RegExp(We,"g"),Ge=new RegExp("^"+We,"g"),Ve=new RegExp(We+"$","g"),Ke=new RegExp(">"+We+"<","g"),Ye=new RegExp("<"+We,"g"),Ze=new RegExp(We+">","g"),Qe=new RegExp("</"+We,"g");function tn(t){return f.call(t)}function en(t){return t.replace(Ge,"")}function nn(t){return t.replace(Ve,"")}function rn(t){var e=~t.search("-")?"-":~t.search("_")?"_":"";if(e){var n=1;for(e=t.split(e);n<e.length;n++)e[n]=on(e[n]);return e.join("")}return t}function on(t){return t.charAt(0).toUpperCase()+t.substr(1)}function an(t){return tn(t).replace(ze,"").replace(Xe," ").replace(Ke,"><").replace(Ye,"<").replace(Ze,">").replace(Qe,"</")}function cn(t,e,n){var r=n?"toUpperCase":"toLowerCase",i=Z(e)||"-";return t.replace(Be,(function(t,e){return(0<e?i:"")+t[r]()}))}function un(t){return Re[t]||t}function sn(t){return Ie[t]||t}function ln(t){return"\\"+He[t]}function fn(t){return+t===t?t:Z(t).replace(Fe,un)}function hn(t){return+t===t?t:Z(t).replace(Ue,sn)}function pn(t){return t.replace($e,"").replace(Je,"")}function dn(t){return an(t.replace(Je,""))}var vn={escape:"{{-([\\s\\S]+?)}}",interpolate:"{{#([\\s\\S]+?)}}",command:"{{\\*([\\s\\S]+?)}}",evaluate:"{{([\\s\\S]+?)}}"},mn=/^([\S]+)\s?([\s\S]+)?/,gn=/[\[\]]*/g;function yn(t){var e=t,n=(e||"").trim(),r=n.slice(0,3),i=n.slice(0,5),o=n.slice(0,7),a=n[n.length-1];return"/if"!==n&&"/for"!==n&&"/"!==n||(e="}"),"}"!==a&&"{"!==a&&("if "===r||"if("===r?e="if("+n.slice(2)+"){":"elseif"===o||"elseif("===o||"esle if"===o?e="}else if("+n.slice(6)+"){":"elif "===i||"elif("===i?e="}else if("+n.slice(4)+"){":"else"===i&&(e="}else{")),e}function bn(t){var e="",n=mn.exec(tn(t)),r=n[1],i=n[2];if(r)switch(r.toLowerCase()){case"/":case"end":case"/for":case"/each":case"/if":case"/exist":e="';}); _p+='";break;case"if":case"exist":e="'; var "+(i=i.split(" then "))[0]+" = "+i[0]+" || false; _ext("+i[0]+","+(i[1]?i[1].toString()+",":"")+"function(){ _p+='";break;case"for":case"each":e=xn("op",(i=i.split(" in "))[1],i[0]);break;case"not":case"cat":case"extend":e=_n(r,(i=i.split(" with "))[1],i[0]);break;default:e=_n(r,(i=i.split(" use "))[0],i[1]||"",!0)}return e}function xn(t,e,n){return"'; struct."+t+"()("+e+",function("+n.replace(gn,"")+"){ _p+='"}function _n(t,e,n,r){var i=t.split(":");return"'; "+(r?e+"=":"")+"struct."+i[0]+'("'+(i[1]||"")+'")('+e+","+n.replace(gn,"")+"); _p+='"}var En={line:/[\r\n\f]/gim,quot:/\s*;;\s*/gim,space:/[\x20\xA0\uFEFF]+/gim,assert:/_p\+='(\\n)*'[^+]/gim,comment:/<!--(.*?)-->/gim,tagleft:/\s{2,}</gim,tagright:/>\s{2,}/gim};function wn(a,t,e){var n,r,c=0,u="_p+='",i,o=O(t)?e:k(t)?t:"",s=O(t)?t:{},l=at(arguments,2),f=new RegExp(this.escape+"|"+this.interpolate+"|"+this.command+"|"+this.evaluate+"|$","g");tn(a).replace(f,(function(t,e,n,r,i,o){return u+=a.slice(c,o).replace(qe,ln),c=o+t.length,e?u+="'+((_t=("+e+"))==null?'':_(_t))+'":n?u+="'+((_t=("+n+"))==null?'':_t)+'":r?u+=bn(r,u):i&&(u+="';"+yn(i)+";_p+='"),t})),u=u.replace(En.line,"").replace(En.comment,"").replace(En.assert,"").replace(En.quot,";").replace(En.space," ").replace(En.tagright,"> ").replace(En.tagleft," <"),u="with(__("+(o?"{}":"__({},_x_||{})")+",_bounds)){ "+u+"'; }",u="var _t,_d,_ext=struct.exist(),_=struct.html(\"encode\"),__=struct.extend(),_p=''; "+u+" return _p;";try{r=v("(function(_bounds,struct,"+(o||"_x_")+(l.length?","+l.toString():"")+"){ "+u+" })")}catch(t){throw console.error("[cubec view] Template parser Error!",{template:u}),t.res=u,t}return i=[s,p],n=function(){return tn(r.apply(this,i.concat(at(arguments))))},n}var Tn=wn.bind(vn);function Sn(){return Kn(Tn.apply(this,arguments))}function On(t){var r={};return st(t?t.split(";"):[],(function(t){var e=(t||"").search("=");if(~e){var n=tn(t.substr(0,e));n.length&&(r[n]=tn(t.substr(e+1)))}})),r}function kn(t){var e=at(arguments),n=e.length,r=On(document.cookie);if(n){if(1===n)return r[t];var i=new Date;return i.setDate(i.getDate()+365),document.cookie=tn(e[0]+"="+(e[1]||"")+";expires="+(e[2]||i.toUTCString())+";path="+(e[3]||"/")+";domain="+(e[4]||"")+";"+(e[5]?"secure":"")),!0}return r}var Nn={"application/x-www-form-urlencoded":0,"application/json":1};function jn(t,e,n){if(t)switch(e){case 0:return Me(n||{});case 1:return JSON.stringify(n||{});default:return Me(n||{})}return n}var An="$$_STRUCT_AJAX_CACHE";function Dn(t){var o=x({url:"",type:"GET",param:m,charset:"utf-8",vaild:!0,cache:!1,success:K,error:K,loading:K,loadend:K,header:m,username:null,password:null,timeout:0,aysnc:!0,emulateJSON:!0,contentType:!0},t||{});S(o.param)&&(o.param=o.param());var a=o.param?O(o.param)?Me(o.param):o.param:"",c=o.url||"";if(o.cache&&o.url){var e=h.get(An);e||(e="{}",h.set(An,e));var n=JSON.parse(e)[c+"#"+a];if(void 0!==n){try{n=o.emulateJSON?JSON.parse(n):n}catch(t){return console.error("[cubec.struct] parse error with cache data under emulateJSON"),o.error.call(g,n)}return o.sucess.call(g,n)}}var u=new XMLHttpRequest;"GET"===o.type.toUpperCase()&&o.param&&(o.url+=(~o.url.search(/\?/g)?"&":ct(o.param).length?"?":"")+Me(o.param),o.param=null),u.addEventListener&&(u.addEventListener("loadstart",o.loading),u.addEventListener("loadend",o.loadend)),u.open(o.type,o.url,o.aysnc,o.username,o.password);var r=O(o.header)&&o.header["Content-Type"]||"application/x-www-form-urlencoded";return void 0!==window.FormData&&o.param instanceof FormData&&(r="",o.contentType=!1,delete o.header["Content-Type"]),o.header!==m&&O(o.header)&&lt(o.header,(function(t,e){u.setRequestHeader(e,t)})),"POST"===o.type.toUpperCase()&&!0===o.contentType&&-1===(r||"").search("json")&&u.setRequestHeader("Content-Type",r+";chartset="+o.charset),u.setRequestHeader("X-Requested-With","XMLHttpRequest"),u.onreadystatechange=function(e){if(4===u.readyState&&u.responseText){var t=u.status;if(200<=t&&t<300||304===t){var n;try{n=o.emulateJSON?JSON.parse(u.responseText):u.responseText}catch(t){return console.error(t),o.error.call(g,u.responseText,u,e)}if(o.success.call(g,n,u,e),o.cache&&o.url){var r=JSON.parse(h.get(An));r[c+"@"+a]=u.responseText,h.set(An,JSON.stringify(r))}}else{var i={};try{i=JSON.parse(u.responseText)}catch(t){console.error(t)}o.error.call(g,i,u,e)}}},Q(o.timeout)&&(u.timeout=Q(o.timeout),u.ontimeout=function(){4===u.readyState&&u.responseText||o.error.call(g,{},u),u.abort()}),u.send(o.param?O(o.param)?jn(o.contentType,Nn[r],o.param):o.param:null),u}function Cn(t){var e=x({url:"",key:"callback",param:m,timeout:5e3,error:K,success:K,callback:("structJSTP"+Math.random()).replace(".","")},t||{});S(e.param)&&(e.param=e.param());var n=e.url+"?"+Me(e.param)+(ct(e.param).length?"&":"")+e.key+"="+e.callback,r=document.createElement("script");r.src=n,g[e.callback]=function(t){document.head.removeChild(r,br(e.timesetup)),g[e.callback]=null,e.success(t)},document.head.append(r),Q(e.timeout)&&(e.timesetup=yr((function(){document.head.removeChild(r),g[e.callback]=null,e.error()}),e.timeout))}function Pn(t,e,n,r){return S(e)&&(r=n,n=e,e=m),Dn({url:t,param:e,success:n,error:r})}function Ln(t,e,n,r){return S(e)&&(r=n,n=e,e=m),Dn({url:t,type:"POST",param:e,success:n,error:r})}var Mn={},Rn=0;function In(t,e,n){var r=t._eid||0;return 0===r&&E(t,"_eid",{value:r=++Rn,writable:!1,enumerable:!1,configurable:!0}),Mn[r]||(Mn[r]={}),Mn[r][e]||(Mn[r][e]=[]),yt(Mn[r][e],n)||Mn[r][e].push(n),t}function qn(t,e,n){var r=t._eid||0;return r&&Mn[r]&&(Mn[r][e]?_t(Mn[r][e],n).length&&n||delete Mn[r][e]:e||n||(delete t._eid,delete Mn[r])),t}function Hn(t,e,n){var r=!1,i=t._eid||0;return i&&Mn[i]&&(r=S(n)&&Mn[i][e]?yt(Mn[i][e],n):Xn(Mn[i][e])),!!r}function Fn(t,e){var n=(O(e)?e._eid:0)||0;return n&&(E(t,"_eid",{value:++Rn,writable:!1,enumerable:!1,configurable:!0}),Mn[t._eid]=dt(Mn[n])),t}function Un(t,e,n){var r=[],i=t._eid||0;return n=n||[],i&&Mn[i]&&""!==e&&lt(Mn[i][e],(function(t){r.push(t.apply(this,n))}),t),r}function $n(t,e,n){return st(Z(e).split(","),(function(t){Un(this,tn(t),n)}),t),t}function Jn(t,e,n){var r,i,o,a=Z(e||"").split("."),c=a.length-1;if(1===a.length)t.hasOwnProperty(e)&&(r=t[e]);else for(i=0,r=t;i<a.length;i++)if(o=A(r=r[a[i]]),i!==c&&o){r=void 0;break}if(n){var u=at(arguments,3);S(n)?r=n.apply(r,(u.unshift(r),u)):k(n)&&(r=S(r[n])?r[n].apply(r,u):r[n])}return r}function zn(t,e,n){var r,i,o,a,c=(e||"").split(".");if(1===c.length)t[e]=n;else{for(o=0,r=t,i=c.pop();o<c.length;o++)r=null==(a=r[c[o]])?{}:a;r[i]=n}return t}function Bn(t,e){var n,r,i,o=(e||"").split(".");if(1===o.length)t.hasOwnProperty(e)&&delete t[e];else{for(r=0,n=t,i=o.pop();r<o.length;r++)n=n[o[r]];C(n)?n.splice(Q(i),1):delete n[i]}return t}function Wn(t,e){return 1<Q(e)?at(Vt(t),0,Q(e)):t[ve(Xn(t)-1)]}function Xn(t){return S(t)||null==t||q(t)?0:j(t.length)?t.length:O(t)?ct(t).length:0}function Gn(){return(new Date).getTime()}function Vn(t,e){var n=[],r=k(e);return R(t,"String")?t.split(""):(ft(t,(function(t){n.push(r?Jn(t,e):t)})),n)}function Kn(n,r){var i,o=[];return function(){var t,e=at(arguments);for(i=o.length;i--;)if(Ne(o[i][0],e))return o[i][1];return o.push([e,t=n.apply(r||this,e)]),t}}function Yn(t,e){var n=D(t)?w(vt,t):t;return S(n)?function(){return!n.apply(e,arguments)}:w(Rt,n).bind(e)}function Zn(){var e=at(arguments);return function(t){return mt(e,(function(t,e){return e(t)}),t)}}function Qn(t,e){if(O(t)&&k(e)&&e){var n=Jn(t,e);return n.sort.apply(n,at(arguments,2)),t}return C(t)?t.sort.apply(t,at(arguments,1)):t}function tr(t){for(var e,n,r=0,i=t.length;r<i;r++){for(e=t[r],n=r-1;0<=n&&t[n]>e;)t[n+1]=t[n],n--;t[n+1]=e}return t}function er(t,e){return O(t)&&k(e)&&e?(tr(Jn(t,e)),t):C(t)?tr(t):t}function nr(t,e,n){for(var r=t[n],i=e,o=e;i<n;i++)t[i]<r&&it(t,i,o,o++);return it(t,n,o),o}function rr(t,e,n){if(!(n<e)){var r=nr(t,e,n);rr(t,e,r-1),rr(t,r+1,n)}}function ir(t){return rr(t,0,t.length-1),t}function or(t,e){return O(t)&&!C(t)&&k(e)?(ir(Jn(t,e)),t):C(t)?ir(t):t}function ar(t){var e=at(arguments,1);t&&Dt(e).apply(this,e)}function cr(){return st(ot.apply(null,arguments),Object.freeze).pop()}function ur(t,e,n){var r;return function(){r||yr((t.apply((r=1,n),arguments),function(){r=0}),e)}}function sr(){return new lr(arguments)}function lr(t){E(this,{"-":{value:0 in t?t:void 0,writable:!0,enumerable:!1,configurable:!1},"=":{value:[],writable:!1,enumerable:!1,configurable:!1}})}function fr(t,e){var n,r=[];for(n=0;n<t;n++)r[n]=e;return r}function hr(t,n){var r={};return C(t)&&C(n)&&st(t,(function(t,e){r[t]=n[e]})),r}lr.prototype.value=function(){return Zn.apply(null,this["="].splice(0,Xn(this["="]))).apply(null,void 0===this["-"]?arguments:this["-"])};var pr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",dr=g.btoa||function(t){for(var e,n,r=Z(t),i="",o=0,a=pr;r.charAt(0|o)||(a="=",o%1);i+=a.charAt(63&e>>8-o%1*8)){if(255<(n=r.charCodeAt(o+=.75)))throw new Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");e=e<<8|n}return i},vr=g.atob||function(t){var e=Z(t).replace(/[=]+$/,""),n="";if(e.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,i,o=0,a=0,c=pr;i=e.charAt(a++);~i&&(r=o%4?64*r+i:i,o++%4)?n+=String.fromCharCode(255&r>>(-2*o&6)):0)i=c.indexOf(i);return n};function mr(t){return dr(unescape(encodeURIComponent(Z(t))))}function gr(t){return decodeURIComponent(escape(vr(Z(t).replace(/\s/g,""))))}function yr(t){return window.Promise?window.Promise.resolve().then(t):setTimeout(t,0)}function br(t){clearTimeout(t)}var xr={obj:O,object:O,arr:C,array:C,arraylike:I,str:k,string:k,bool:N,boolean:N,num:j,number:j,fn:S,func:S,nan:q,prim:A,primitive:A,idt:L,identifier:L,def:R,define:R,int:H,float:F,double:F,date:U,ept:$,empty:$,dom:J,elm:z,element:z,node:B,text:B,native:W,need:M,require:M,required:M,type:G,default:G},_r={str:Z,string:Z,num:Q,number:Q,arr:nt,array:nt,hex:et,rgb:tt,minus:rt,default:Z},Er={arr:st,array:st,obj:lt,object:lt,each:ft,default:ft},wr={key:bt,index:bt,exist:yt,default:yt},Tr={first:Nt,last:kt,single:jt,one:jt,index:Ot,default:Ot},Sr={key:Pt,hook:Ft,map:Ct,default:Ct},Or={fast:qt,slim:Ht,default:Ht},kr={un:Bt,unpair:Bt,pair:zt,default:zt},Nr={at:Xt,with:Gt,all:Wt,default:Wt},jr={left:ce,right:ue,lefto:se,leftto:se,righto:se.bind(!0),rightto:se.bind(!0),default:ce},Ar={int:ve,float:me,double:me,str:xe,word:xe,string:xe,bool:ge,boolean:ge,char:ye,letter:ye,character:ye,arr:we,array:we,date:_e,hex:be,dice:Ee,default:Math.random},Dr={parse:Le,str:Me,stringify:Me,serialize:Me,query:De,requery:De,default:Le},Cr={encode:fn,decode:hn,strip:pn,zip:dn,default:Zn(pn,dn)},Pr={trim:tn,trimleft:en,trimright:nn,came:rn,camelize:rn,capit:on,capitalize:on,collapse:an,rize:cn,rizewith:cn,default:Z},Lr={get:Pn,fetch:Pn,put:Ln,post:Ln,jsonp:Cn,cors:Cn,ajax:Dn,default:Dn},Mr={on:In,add:In,bind:In,off:qn,remove:qn,unbind:qn,has:Hn,exist:Hn,copy:Fn,extend:Fn,emit:$n,trigger:$n,dispatch:$n,default:$n},Rr={get:Jn,set:zn,rm:Bn,not:Bn,remove:Bn,default:Jn},Ir={a2b:vr,atob:vr,btoa:dr,b2a:dr,utob:mr,u2b:mr,btou:gr,b2u:gr,default:vr},qr={left:mt,right:gt,default:mt},Hr={native:Qn,q:or,i:er,quick:or,insert:er,default:Qn},Fr={fast:te,slim:ee,default:te},Ur={fast:re,slim:ie,default:re},$r={axt:Sn,cache:Sn,default:Tn},Jr={chain:sr,define:E,extend:x,depextend:_,keys:ct,noop:K,clone:ht,fireEvent:Un,cloneDeep:dt,depclone:dt,not:_t,cat:Lt,slice:at,find:Et,filter:Et,reject:wt,every:Tt,some:St,chunk:Kt,compact:Yt,pluck:Ut,groupBy:$t,countBy:Jt,concat:Zt,cast:ot,shuffle:Vt,first:At,last:Dt,flat:le,merge:ae,auto:Wn,part:Oe,once:ke,eq:Ne,cookie:kn,values:Vn,memoize:Kn,negate:Yn,link:Zn,size:Xn,now:Gn,exist:ar,lock:cr,cool:Y,hz:ur,fill:fr,combined:hr,ayc:yr,cyc:br,v8:V},zr={op:Er,each:Er,map:Sr,has:wr,diff:Fr,intsec:Ur,type:xr,sort:Hr,html:Cr,unique:Or,convert:_r,pull:Nr,param:Dr,ajax:Lr,event:Mr,prop:Rr,drop:jr,pairs:kr,index:Tr,random:Ar,string:Pr,reduce:qr,assembly:Ir,doom:$r};lt(Jr,(function(t,e){lr.prototype[e]=function(){return this["="].push(t),this},y(t,e)})),lt(zr,(function(e,t){lr.prototype[t]=function(t){return this["="].push(e[tn(Z(t).toLowerCase())]),this},b(cr(e),t)})),p.root=g,p.broken=m,p.toString=Z,p.prototype=p.__proto__=null;var Br=cr(V(p));function Wr(t){if(Array.isArray(t))return t}var Xr=Wr;function Gr(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}var Vr=Gr;function Kr(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var Yr=Kr;function Zr(t,e){return Xr(t)||Vr(t,e)||Yr()}var Qr=Zr,ti={DEFAULT_OPTION:{data:{},verify:{},emulateJSON:!0},IGNORE_KEYWORDS:["name","data","store","change","events","verify","filter","lock"],EMULATEHTTP:{get:"GET",send:"GET",post:"POST",sync:"POST",put:"POST",delete:"POST",patch:"POST",fetch:"GET"}},ei={MODEL_UNEXPECT:"unexpect c.model with only data that accepts a standard JSON type object.",MODEL_DEFAULT_PARSE:"[cubec model] the fetch data with default parse error, please check server response data format with model-{ catch } event!",VIEW_MISSING_ROOT:"unexpect c.view must defined real root element node",VIEW_MOUNT:"view mount position is not a pure HTMLElement or Node",VIEW_RENDER:"view render static throw error with using illegality arguments",VIEW_CUSTOM_RENDER:"view {custom} render static throw error with using illegality arguments",ATOM_UNDEFINED_MODELNAME:"unexpect model name that atom can find it",ATOM_MISSING_MODELINSTANCE:"can not find target modal with atom.swap"};function ni(t,e){return this.on(e,t)}var ri=Br.each("object"),ii=Br.define();function oi(n,t){return ri(t,(function(t,e){ii(n,e,{value:t,writable:!1,enumerable:!1,configurable:!1})})),n}var ai=Br.broken,ci=Br.keys(),ui=Br.prop("get"),si=Br.convert("string"),li=Br.type();function fi(t,e){if(!e._v)return!0;for(var n,r,i,o=e._asv(ai),a=[],c=ci(o),u=0,s=c.length;u<s;u++)if(!(0,o[c[u]])(n=ui(t,c[u]))){a.push(c[u],n),console.error("model of key ( ".concat(c[u]," ) except error with model verify => ").concat(li(n).toUpperCase()," [ ").concat(si(n)," ]")),i=c[u];break}return(r=!a.length)||(e.emit("catch:verify",a),e.emit("catch:verify:".concat(i),a)),r}var hi=Br.broken,pi=Br.prop("set"),di=Br.keys(),vi=Br.prop("get"),mi=Br.find(),gi=Br.convert("string"),yi=Br.type();function bi(t,e,n){if(!n._v)return!0;for(var r,i,o,a=n._asv(hi),c=pi(n.get(),t,e),u=di(a),s=new RegExp("^(".concat(t.replace(".","\\."),"|(").concat(t.replace(".","\\."),"\\.[^sS]*))$"),"m"),l=mi(u,s),f=[],h=0,p=l.length;h<p;h++)if(!(0,a[o=l[h]])(i=vi(c,o))){f.push(o,i),console.error("model of key ( ".concat(l[h]," ) except error with model verify => ").concat(yi(i).toUpperCase()," [ ").concat(gi(i)," ]"));break}return(r=!f.length)||(n.emit("catch:verify",f),n.emit("catch:verify:".concat(o),f)),r}var xi=Br.broken;function _i(t){var e=t._asl(xi);return e&&t.emit("catch:lock"),e}var Ei=Br.ajax();function wi(t,e,n,r,i,o){if(_i(this))return this;var a={url:e||this.url||"",type:ti.EMULATEHTTP[t],async:!0,cache:this.cache||!1,emulateJSON:this.emulateJSON,param:n||this.param||{},header:o||this.header||{}};return"POST"===a.type&&this.emulateJSON&&(a.header["Content-Type"]="application/json"),a.header["X-HTTP-Method-Override"]=t,a.success=function(){try{r.apply(this,arguments)}catch(t){return console.error(t),this.emit("catch",[t])}this.emit(t+":success",arguments)}.bind(this),a.error=function(){try{i.apply(this,arguments)}catch(t){return console.error(t),this.emit("catch",[t])}this.emit(t+":error",arguments)}.bind(this),this.emit(t,[Ei(a),a])}var Ti=Br.ajax();function Si(r,i,o,a){var c=this;return _i(this)?this:new Promise(function(e,n){var t={url:i||c.url||"",type:ti.EMULATEHTTP[r],async:!0,cache:c.cache||!1,emulateJSON:c.emulateJSON,param:o||c.param||{},header:a||c.header||{}};t.header["X-HTTP-Method-Override"]=r,t.success=function(t){e(t)},t.error=function(t){n(t)},c.emit(r,[Ti(t),t])})}var Oi=Br.each("array"),ki=Br.each("object"),Ni=Br.type("object"),ji=Br.type("arraylike"),Ai=function n(t,r,e){var i=e||[];return null!=t&&(ji(t)?Oi(t,(function(t){n(t,r,i)})):Ni(t)&&ki(t,(function(t,e){e===r&&i.push(t),n(t,r,i)}))),i},Di=function(e,t){var n={};return Oi(t,(function(t){n[t]=Ai(e,t)})),n},Ci=Br.each("object"),Pi=Br.each("array"),Li=Br.keys();function Mi(r){var t=[],n=0,i=Li(r);Ci(r,(function(t,e){n=t.length>n?t.length:n}));for(var e=function(e){var n={};Pi(i,(function(t){n[t]=r[t][e]})),t.push(n)},o=0;o<n;o++)e(o);return t}var Ri=Br.type("func"),Ii=Br.type("arraylike"),qi=Br.type("string"),Hi=Br.event("on"),Fi=Br.event("off"),Ui=Br.event("emit");function $i(t,e){return Ri(e)&&qi(t)&&Hi(this,t,e),this}function Ji(t,e){return Fi(this,t,e)}function zi(t,e){return Ui(this,t,Ii(e)?e:[])}var Bi=0,Wi=/^change:([a-zA-Z0-9_$.]+)$/,Xi=/^change:/,Gi=Br.broken,Vi=Br.extend(),Ki=Br.clone(),Yi=Br.type("string"),Zi=Br.type("bool"),Qi=Br.type("object"),to=Br.type("array"),eo=Br.type("prim"),no=Br.type("func"),ro=Br.each("object"),io=Br.each("array"),oo=Br.cool(),ao=Br.size(),co=Br.prop("get"),uo=Br.prop("set"),so=Br.prop("rm"),lo=Br.merge(),fo=Br.noop(),ho=Br.slice(),po=Br.not(),vo=Br.eq(),mo=Br.event("has");function go(){var t=ho(arguments),e={};try{1<t.length?io(t,(function(t){return e=lo(e,t)})):e=t[0]}catch(t){return console.error(ei.MODEL_DEFAULT_PARSE),this.emit("catch",[t]),!1}return e}var yo=function(){var n=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=Vi(Ki(ti.DEFAULT_OPTION),t);if(!Qi(e.data)||to(e.data))throw new Error(ei.MODEL_UNEXPECT);var r=e.events,i=e.verify,o=Yi(e.name),a=Zi(e.store)&&e.store&&o,c=this.isLock=!!e.lock,u=[],s=[],l=e.data||{},f=a&&h.get(e.name)||l;l=Ki(f),ro(r,ni,oi(this,{name:o?e.name:void 0,_ast:function(t,e){var n=no(t)?t:oo;return e===Gi?n(l):{}},_mid:Bi++,_asl:function(t){return t===Gi?c:null},_asv:function(t){return t===Gi?i:{}},_ash:function(t){return t===Gi?u:[]},_asc:function(t){return t===Gi?s:[]},_v:!!ao(i),_l:function(t,e){return e===Gi?n.isLock=c=!!t:void 0},_c:function(t,e){return e===Gi?l=t:{}},_s:a})),o&&(h.ram[this.name]=this),Vi(this,e,ti.IGNORE_KEYWORDS).emit("init").off("init")};function bo(i,o,a,t){var c=[],e=i._asc(Gi);if(i.emit("change",[o,a]),e.length)if(t&&Yi(t)){var u="change:".concat(t),s=new RegExp("^".concat(u,"\\.([a-zA-Z_$0-9])+"));io(e,(function(t){if(u===t||s.test(t)){var e=t.replace(Xi,""),n=co(o,e),r=co(a,e);vo(n,r)||c.push([t,[n,r]])}}))}else io(e,(function(t){var e=t.replace(Xi,""),n=co(o,e),r=co(a,e);vo(n,r)||c.push([t,[n,r]])}));return io(c,(function(t){var e=Qr(t,2),n=e[0],r=e[1];i.emit(n,r)})),i}function xo(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}yo.prototype={constructor:yo,emit:zi,on:function(t){if(t&&Yi(t)){if(Wi.test(t)){var e=this._asc(Gi);-1===e.indexOf(t)&&e.push(t)}return $i.apply(this,arguments)}},off:function(t,e){Ji.apply(this,arguments);var n=this._asc(Gi);return t&&Yi(t)&&Wi.test(t)&&-1<=n.indexOf(t)&&!mo(this,t)?po(n,t):null==t&&n.splice(0,n.length),this},lock:function(){return this._l(!0,Gi),this.emit("lock")},unlock:function(){return this._l(!1,Gi),this.emit("unlock")},get:function(t,e){var n=this._ast(oo,Gi);return Ki(t||0===t?co(n,t,e):n)},set:function(t,e,n){if(_i(this))return this;var r,i=this._ast(oo,Gi),o=this._ash(Gi),a=arguments.length,c=!eo(t)&&Qi(t);if(a)if(c){if(n=e,(r=t)&&!vo(i,r)&&fi(r,this)){var u=Ki(i);if(this.history&&o.push(Ki(i)),this._c(r,Gi,this.change=!0),this._s&&h.set(this.name,r),!n)bo(this,Ki(r),u)}}else if(!vo(co(i,t),e)&&bi(t,e,this)){var s=Ki(i);if(this.history&&o.push(Ki(i)),uo(i,t,e,this.change=!0),this._s&&h.set(this.name,i),!n)bo(this,Ki(i),s,t)}return this},remove:function(t,e){if(_i(this))return this;var n=this._ast(oo,Gi),r=this._ash(Gi);if(eo(t)&&null!=t){var i=Ki(n);if(this.history&&r.push(Ki(n)),so(n,t),this._s&&h.set(this.name,n),!e){var o=Ki(n);this.emit("remove:"+t),bo(this,o,i,t)}}return this},clear:function(t){var e={};return this.set(e,t),this._ast(oo,Gi)!==e||t||this.emit("clear"),this},push:function(t){return Yi(t)&&(t=t.split(",")),to(t)&&this.emit(t.join(","),[this.get()]),this},back:function(t){if(_i(this)||!this.history)return this;var e,n=this._ash(Gi);if(n.length&&(e=n.pop())){var r=this.get();if(this._c(e,Gi,this.change=!0),!t){var i=Ki(e);this.emit("back",[i]),bo(this,i,r)}}return this},toJSON:function(){return JSON.stringify(this.get())},ajax:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=lo({type:"get",async:!0,success:fo,error:fo},t);return wi.call(this,e.type,e.url,e.param,e.success,e.error,e.header)},fetch:function(t,n){var r=this;t=t||this.param;var i=[],e=to(this.url)?this.url:Yi(this.url)?[this.url]:[],o=to(t)?t:Qi(t)?[t]:[],a=this.parse||go;return io(e,(function(t,e){i.push(Si.call(r,"fetch",t,o[e],n))})),1===i.length?i[0].then((function(t){var e=a.call(r,t);e&&(r.emit("fetch:success",[e]),r.set(e))}),(function(t){r.emit("fetch:error",[t]),console.error(t)})).catch((function(t){r.emit("catch",[t]),console.error(t)})):1<i.length&&Promise.all(i).then((function(t){var e=a.apply(r,t);e&&(r.emit("fetch:success",[e]),r.set(e))}),(function(t){r.emit("fetch:error",[t]),console.error(t)})).catch((function(t){r.emit("catch",[t]),console.error(t)})),this},sync:function(t,e){return Yi(t)?wi.call(this,"sync",t,this.get(),fo,fo,e):this},merge:function(t,e){return t instanceof yo&&(t=t.get()),Qi(t)&&null!=t&&this.set(lo(this.get(),t),e),this},transTo:function(t,e,n){no(e)&&(n=e,e=!1);var r=no(n)?n:oo;return t instanceof yo&&t.set(r(this.get()),e),this},seek:function(t,e){if(t&&(Yi(t)&&(t=[t]),to(t))){var n=Di(this.get(),t);return e?Mi(n):n}return{}}};var _o=xo;function Eo(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}var wo=Eo;function To(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var So=To;function Oo(t){return _o(t)||wo(t)||So()}var ko=Oo;function No(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var jo=No,Ao={DEFAULT_OPTION:{use:[]},IGNORE_KEYWORDS:["use","events","assert"]},Do=Br.cool(),Co=Br.type("string"),Po=Br.type("array"),Lo=Br.each("array"),Mo=Br.broken;function Ro(t,e){var n=this,r=this._assert(Do,Mo),i=Co(t)?[t]:Po(t)?t:[];return Lo(i,(function(t){return e.call(n,r,t)})),this}function Io(e){return function(t){return t.name===e}}var qo=Br.type(),Ho=Br.each("array");function Fo(t,e){var n=[];switch(qo(e)){case"regexp":Ho(t,(function(t){return e.test(t.name)&&n.push(t)}));break;case"string":n.push(e);break;case"array":n=e;break;case"function":Ho(t,(function(t){return e(t)&&n.push(t)}))}return n}function Uo(e,n){return function(t){return t[e].apply(t,n)}}var $o=Br.extend(),Jo=Br.clone(),zo=Br.slice(),Bo=Br.has(),Wo=Br.index(),Xo=Br.index("one"),Go=Br.type("number"),Vo=Br.type("function"),Ko=Br.type("string"),Yo=Br.type("boolean"),Zo=Br.type("array"),Qo=Br.type("arraylike"),ta=Br.cool(),ea=Br.every(),na=Br.each("array"),ra=Br.map(),ia=Br.size(),oa=Br.broken,aa=Br.noop(),ca=function(t){return t instanceof yo},ua=0,sa=function(t,e,n,r){var i=Wo(t,Ko(e)?Io(e):e);if(Go(i)){var o=t.splice(i,1).pop();ca(o)&&n&&o.off("change",r)}},la=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=$o(Jo(Ao.DEFAULT_OPTION),t),n=!!e.connect,r=function(){this.transmit()}.bind(this),i=[];oi(this,{_mid:"_at"+ua++,_assert:function(t,e){return e===oa?t(i):[]},_transmit:function(t){return t===oa?r:aa},_connecty:function(t){return t===oa?n:null}}),$o(this.use(e.use,!0),e,Ao.IGNORE_KEYWORDS)},fa=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=2<arguments.length?arguments[2]:void 0,r=new la(t.preset?{use:e,connect:n}:{use:e,connect:n,perset:t.perset});return r.back=function(){return t},r};la.prototype={constructor:la,all:function(){return this._assert(zo,oa)},use:function(t,e){var n=this._assert(ta,oa),r=this._transmit(oa),i=this._connecty(oa),o=n.length;return ca(t)&&!Bo(n,t)?(n.push(t),i&&t.on("change",r)):Qo(t)&&ea(t,ca)?na(t,(function(t){Bo(n,t)||(n.push(t),i&&t.on("change",r))})):(Ko(t)||Zo(t)&&ea(t,Ko))&&Ro.call(this,t,(function(t,e,n){(n=h.ram[e])&&!Bo(t,n)&&(t.push(n),i&&n.on("change",r))})),o===n.length||e||this.transmit(),this},transmit:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=this.toChunk();return Ko(this.preset)&&this.preset&&(e=jo({},this.preset,e)),zi.call(this,"change",[e].concat(ko(t)))},out:function(t,e){var n=this._assert(ta,oa),r=this._connecty(oa),i=this._transmit(oa),o=n.length;return ca(t)&&Bo(n,t)?sa(n,t,r,i):Qo(t)&&ea(t,ca)?na(t,(function(t){sa(n,t,r,i)})):(Ko(t)||Zo(t)&&ea(t,Ko))&&Ro.call(this,t,(function(t,e){sa(t,e,r,i)})),o===n.length||e||this.transmit(),this},getModelByNames:function(t){var e,n=this;return null==t?e=this.all():Ko(t)?e=Xo(this.all(),Io(t)):Zo(t)&&ia(t)&&(e=ra(t,(function(t){return n.getModelByNames(t)})),1===ia(e)&&(e=e[0])),e},of:function(t,e){return na(this.all(),Vo(t)?t:Uo(t,e)),this},swap:function(t,e,n){if(!(t&&e&&Ko(t)&&Ko(e)))throw new Error(ei.ATOM_UNDEFINED_MODELNAME);var r=this.getModelByNames(t),i=this.getModelByNames(e);if(!r||!i)throw new Error(ei.ATOM_MISSING_MODELINSTANCE);var o=r.get();return r.set(i.get(),n),i.set(o,n),this},select:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return fa(this,Fo(this.all(),t),e,this)},subscribe:function(t){return Vo(t)&&$i.call(this,"change",t),this},unsubscribe:function(t){return Yo(t)&&t?Ji.call(this,"change"):Vo(t)&&Ji.call(this,"change",t),this},reset:function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];return this.unsubscribe(!0),this.out(this.all(),t),this},toData:function(){return ra(this._assert(ta,oa),(function(t){return t.get()}))},toChunk:function(){var e={};return this.of((function(t){return e[t.name||t._mid]=t.get()})),e}};var ha={DEFAULT_OPTION:{props:{}},IGNORE_KEYWORDS:["root","render","model","connect","events","template"]},pa=[],da=window.document,va=Object.getPrototypeOf,ma=pa.slice,ga=pa.concat,ya=pa.push,ba=pa.indexOf,xa={},_a=xa.toString,Ea=xa.hasOwnProperty,wa=Ea.toString,Ta=wa.call(Object),Sa={},Oa=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},ka=function(t){return null!=t&&t===t.window},Na={type:!0,src:!0,noModule:!0};function ja(t,e,n){var r,i=(e=e||da).createElement("script");if(i.text=t,n)for(r in Na)n[r]&&(i[r]=n[r]);e.head.appendChild(i).parentNode.removeChild(i)}function Aa(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?xa[_a.call(t)]||"object":typeof t}var Da="3.3.2 for cubec",Ca=function(t,e){return new Ca.fn.init(t,e)};function Pa(t){var e=!!t&&"length"in t&&t.length,n=Aa(t);return!Oa(t)&&!ka(t)&&("array"===n||0===e||"number"==typeof e&&0<e&&e-1 in t)}Ca.fn=Ca.prototype={jquery:Da,constructor:Ca,length:0,get:function(t){return null==t?ma.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=Ca.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return Ca.each(this,t)},map:function(n){return this.pushStack(Ca.map(this,(function(t,e){return n.call(t,e,t)})))},slice:function(){return this.pushStack(ma.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(0<=n&&n<e?[this[n]]:[])},push:ya,sort:pa.sort,splice:pa.splice},Ca.extend=Ca.fn.extend=function(){var t,e,n,r,i,o,a=arguments[0]||{},c=1,u=arguments.length,s=!1;for("boolean"==typeof a&&(s=a,a=arguments[c]||{},c++),"object"==typeof a||Oa(a)||(a={}),c===u&&(a=this,c--);c<u;c++)if(null!=(t=arguments[c]))for(e in t)n=a[e],a!==(r=t[e])&&(s&&r&&(Ca.isPlainObject(r)||(i=Array.isArray(r)))?(o=i?(i=!1,n&&Array.isArray(n)?n:[]):n&&Ca.isPlainObject(n)?n:{},a[e]=Ca.extend(s,o,r)):void 0!==r&&(a[e]=r));return a},Ca.extend({expando:"jQuery"+(Da+Math.random()).replace(/\D/g,""),isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==_a.call(t))&&(!(e=va(t))||"function"==typeof(n=Ea.call(e,"constructor")&&e.constructor)&&wa.call(n)===Ta)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){ja(t)},each:function(t,e){var n,r=0;if(Pa(t))for(n=t.length;r<n&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},makeArray:function(t,e){var n=e||[];return null!=t&&(Pa(Object(t))?Ca.merge(n,"string"==typeof t?[t]:t):ya.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:ba.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;r<n;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r=[],i=0,o=t.length,a=!n;i<o;i++)!e(t[i],i)!==a&&r.push(t[i]);return r},map:function(t,e,n){var r,i,o=0,a=[];if(Pa(t))for(r=t.length;o<r;o++)null!=(i=e(t[o],o,n))&&a.push(i);else for(o in t)null!=(i=e(t[o],o,n))&&a.push(i);return ga.apply([],a)},guid:1,support:Sa}),"function"==typeof Symbol&&(Ca.fn[Symbol.iterator]=pa[Symbol.iterator]),Ca.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){xa["[object "+e+"]"]=e.toLowerCase()}));var La=da.documentElement,Ma,Ra,Ia=Ca.expando.split("").sort(Ua).join("")===Ca.expando,qa=La.matches||La.webkitMatchesSelector||La.mozMatchesSelector||La.oMatchesSelector||La.msMatchesSelector,Ha=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,Fa=function(t,e){return e?"\0"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t};function Ua(t,e){if(t===e)return Ma=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)?t===da||t.ownerDocument===da&&Ca.contains(da,t)?-1:e===da||e.ownerDocument===da&&Ca.contains(da,e)?1:Ra?ba.call(Ra,t)-ba.call(Ra,e):0:4&n?-1:1)}function $a(t){var e,n=[],r=0,i=0;if(Ma=!1,Ra=!Ia&&t.slice(0),t.sort(Ua),Ma){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return Ra=null,t}function Ja(t){return(t+"").replace(Ha,Fa)}Ca.extend({uniqueSort:$a,unique:$a,escapeSelector:Ja,find:function(t,e,n,r){var i,o,a=0;if(n=n||[],!t||"string"!=typeof t)return n;if(1!==(o=(e=e||da).nodeType)&&9!==o)return[];if(r)for(;i=r[a++];)Ca.find.matchesSelector(i,t)&&n.push(i);else Ca.merge(n,e.querySelectorAll(t));return n},contains:function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!n.contains(r))},isXMLDoc:function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},expr:{attrHandle:{},match:{bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:/^[\x20\t\r\n\f]*[>+~]/}}}),Ca.extend(Ca.find,{matches:function(t,e){return Ca.find(t,null,null,e)},matchesSelector:function(t,e){return qa.call(t,e)},attr:function(t,e){var n=Ca.expr.attrHandle[e.toLowerCase()],r=n&&Ea.call(Ca.expr.attrHandle,e.toLowerCase())?n(t,e,Ca.isXMLDoc(t)):void 0;return void 0!==r?r:t.getAttribute(e)}});var za=Ca.expr.match.needsContext;function Ba(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var Wa=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Xa(t,n,r){return Oa(n)?Ca.grep(t,(function(t,e){return!!n.call(t,e,t)!==r})):n.nodeType?Ca.grep(t,(function(t){return t===n!==r})):"string"!=typeof n?Ca.grep(t,(function(t){return-1<ba.call(n,t)!==r})):Ca.filter(n,t,r)}Ca.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?Ca.find.matchesSelector(r,t)?[r]:[]:Ca.find.matches(t,Ca.grep(e,(function(t){return 1===t.nodeType})))},Ca.fn.extend({find:function(t){var e,n,r=this.length,i=this;if("string"!=typeof t)return this.pushStack(Ca(t).filter((function(){for(e=0;e<r;e++)if(Ca.contains(i[e],this))return!0})));for(n=this.pushStack([]),e=0;e<r;e++)Ca.find(t,i[e],n);return 1<r?Ca.uniqueSort(n):n},filter:function(t){return this.pushStack(Xa(this,t||[],!1))},not:function(t){return this.pushStack(Xa(this,t||[],!0))},is:function(t){return!!Xa(this,"string"==typeof t&&za.test(t)?Ca(t):t||[],!1).length}});var Ga,Va=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Ka=Ca.fn.init=function(t,e,n){var r,i;if(!t)return this;if(n=n||Ga,"string"!=typeof t)return t.nodeType?(this[0]=t,this.length=1,this):Oa(t)?void 0!==n.ready?n.ready(t):t(Ca):Ca.makeArray(t,this);if(!(r="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:Va.exec(t))||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof Ca?e[0]:e,Ca.merge(this,Ca.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:da,!0)),Wa.test(r[1])&&Ca.isPlainObject(e))for(r in e)Oa(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return(i=da.getElementById(r[2]))&&(this[0]=i,this.length=1),this};Ka.prototype=Ca.fn,Ga=Ca(da),Ca.fn.extend({index:function(t){return t?"string"==typeof t?ba.call(Ca(t),this[0]):ba.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1}});var Ya=/[^\x20\t\r\n\f]+/g,Za=function(t,e,n,r,i,o,a){var c=0,u=t.length,s=null==n;if("object"===Aa(n))for(c in i=!0,n)Za(t,e,c,n[c],!0,o,a);else if(void 0!==r&&(i=!0,Oa(r)||(a=!0),s&&(e=a?(e.call(t,r),null):(s=e,function(t,e,n){return s.call(Ca(t),n)})),e))for(;c<u;c++)e(t[c],n,a?r:r.call(t[c],c,e(t[c],n)));return i?t:s?e.call(t):u?e(t[0],n):o},Qa=/^-ms-/,tc=/-([a-z])/g;function ec(t,e){return e.toUpperCase()}function nc(t){return t.replace(Qa,"ms-").replace(tc,ec)}var rc=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function ic(){this.expando=Ca.expando+ic.uid++}ic.uid=1,ic.prototype={cache:function(t){var e=t[this.expando];return e||(e={},rc(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var r,i=this.cache(t);if("string"==typeof e)i[nc(e)]=n;else for(r in e)i[nc(r)]=e[r];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][nc(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r=t[this.expando];if(void 0!==r){if(void 0!==e){n=(e=Array.isArray(e)?e.map(nc):(e=nc(e))in r?[e]:e.match(Ya)||[]).length;for(;n--;)delete r[e[n]]}(void 0===e||Ca.isEmptyObject(r))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!Ca.isEmptyObject(e)}};var oc=new ic,ac=new ic,cc=function(t){return Ca.contains(t.ownerDocument,t)},uc=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,sc=/^$|^module$|\/(?:java|ecma)script/i,lc={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function fc(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&Ba(t,e)?Ca.merge([t],n):n}function hc(t,e){for(var n=0,r=t.length;n<r;n++)oc.set(t[n],"globalEval",!e||oc.get(e[n],"globalEval"))}lc.optgroup=lc.option,lc.tbody=lc.tfoot=lc.colgroup=lc.caption=lc.thead,lc.th=lc.td;var pc=/<|&#?\w+;/;function dc(t,e,n,r,i){for(var o,a,c,u,s,l,f=e.createDocumentFragment(),h=[],p=0,d=t.length;p<d;p++)if((o=t[p])||0===o)if("object"===Aa(o))Ca.merge(h,o.nodeType?[o]:o);else if(pc.test(o)){for(a=a||f.appendChild(e.createElement("div")),c=(uc.exec(o)||["",""])[1].toLowerCase(),u=lc[c]||lc._default,a.innerHTML=u[1]+Ca.htmlPrefilter(o)+u[2],l=u[0];l--;)a=a.lastChild;Ca.merge(h,a.childNodes),(a=f.firstChild).textContent=""}else h.push(e.createTextNode(o));for(f.textContent="",p=0;o=h[p++];)if(r&&-1<Ca.inArray(o,r))i&&i.push(o);else if(s=cc(o),a=fc(f.appendChild(o),"script"),s&&hc(a),n)for(l=0;o=a[l++];)sc.test(o.type||"")&&n.push(o);return f}var vc=/^key/,mc=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,gc=/^([^.]*)(?:\.(.+)|)/;function yc(){return!0}function bc(){return!1}function xc(){try{return da.activeElement}catch(t){}}function _c(t,e,n,r,i,o){var a,c;if("object"==typeof e){for(c in"string"!=typeof n&&(r=r||n,n=void 0),e)_c(t,c,n,r,e[c],o);return t}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=bc;else if(!i)return t;return 1===o&&(a=i,(i=function(t){return Ca().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=Ca.guid++)),t.each((function(){Ca.event.add(this,e,i,r,n)}))}Ca.event={global:{},add:function(e,t,n,r,i){var o,a,c,u,s,l,f,h,p,d,v,m=oc.get(e);if(m)for(n.handler&&(n=(o=n).handler,i=o.selector),i&&Ca.find.matchesSelector(La,i),n.guid||(n.guid=Ca.guid++),(u=m.events)||(u=m.events={}),(a=m.handle)||(a=m.handle=function(t){return void 0!==Ca&&Ca.event.triggered!==t.type?Ca.event.dispatch.apply(e,arguments):void 0}),s=(t=(t||"").match(Ya)||[""]).length;s--;)p=v=(c=gc.exec(t[s])||[])[1],d=(c[2]||"").split(".").sort(),p&&(f=Ca.event.special[p]||{},p=(i?f.delegateType:f.bindType)||p,f=Ca.event.special[p]||{},l=Ca.extend({type:p,origType:v,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&Ca.expr.match.needsContext.test(i),namespace:d.join(".")},o),(h=u[p])||((h=u[p]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,r,d,a)||e.addEventListener&&e.addEventListener(p,a)),f.add&&(f.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,l):h.push(l),Ca.event.global[p]=!0)},remove:function(t,e,n,r,i){var o,a,c,u,s,l,f,h,p,d,v,m=oc.hasData(t)&&oc.get(t);if(m&&(u=m.events)){for(s=(e=(e||"").match(Ya)||[""]).length;s--;)if(p=v=(c=gc.exec(e[s])||[])[1],d=(c[2]||"").split(".").sort(),p){for(f=Ca.event.special[p]||{},h=u[p=(r?f.delegateType:f.bindType)||p]||[],c=c[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)l=h[o],!i&&v!==l.origType||n&&n.guid!==l.guid||c&&!c.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(h.splice(o,1),l.selector&&h.delegateCount--,f.remove&&f.remove.call(t,l));a&&!h.length&&(f.teardown&&!1!==f.teardown.call(t,d,m.handle)||Ca.removeEvent(t,p,m.handle),delete u[p])}else for(p in u)Ca.event.remove(t,p+e[s],n,r,!0);Ca.isEmptyObject(u)&&oc.remove(t,"handle events")}},dispatch:function(t){var e,n,r,i,o,a,c=Ca.event.fix(t),u=new Array(arguments.length),s=(oc.get(this,"events")||{})[c.type]||[],l=Ca.event.special[c.type]||{};for(u[0]=c,e=1;e<arguments.length;e++)u[e]=arguments[e];if(c.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,c)){for(a=Ca.event.handlers.call(this,c,s),e=0;(i=a[e++])&&!c.isPropagationStopped();)for(c.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!c.isImmediatePropagationStopped();)c.rnamespace&&!c.rnamespace.test(o.namespace)||(c.handleObj=o,c.data=o.data,void 0!==(r=((Ca.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u))&&!1===(c.result=r)&&(c.preventDefault(),c.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,c),c.result}},handlers:function(t,e){var n,r,i,o,a,c=[],u=e.delegateCount,s=t.target;if(u&&s.nodeType&&!("click"===t.type&&1<=t.button))for(;s!==this;s=s.parentNode||this)if(1===s.nodeType&&("click"!==t.type||!0!==s.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=e[n]).selector+" "]&&(a[i]=r.needsContext?-1<Ca(i,this).index(s):Ca.find(i,this,null,[s]).length),a[i]&&o.push(r);o.length&&c.push({elem:s,handlers:o})}return s=this,u<e.length&&c.push({elem:s,handlers:e.slice(u)}),c},addProp:function(e,t){Object.defineProperty(Ca.Event.prototype,e,{enumerable:!0,configurable:!0,get:Oa(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(t){return t[Ca.expando]?t:new Ca.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==xc()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===xc()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&Ba(this,"input"))return this.click(),!1},_default:function(t){return Ba(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},Ca.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},Ca.Event=function(t,e){if(!(this instanceof Ca.Event))return new Ca.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?yc:bc,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&Ca.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[Ca.expando]=!0},Ca.Event.prototype={constructor:Ca.Event,isDefaultPrevented:bc,isPropagationStopped:bc,isImmediatePropagationStopped:bc,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=yc,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=yc,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=yc,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},Ca.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&vc.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&mc.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},Ca.event.addProp),Ca.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,i){Ca.event.special[t]={delegateType:i,bindType:i,handle:function(t){var e,n=t.relatedTarget,r=t.handleObj;return n&&(n===this||Ca.contains(this,n))||(t.type=r.origType,e=r.handler.apply(this,arguments),t.type=i),e}}})),Ca.fn.extend({on:function(t,e,n,r){return _c(this,t,e,n,r)},one:function(t,e,n,r){return _c(this,t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,Ca(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"!=typeof t)return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=bc),this.each((function(){Ca.event.remove(this,t,n,e)}));for(i in t)this.off(i,e,t[i]);return this}});var Ec=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,wc,Tc;function Sc(t,e,n){for(var r,i=e?Ca.filter(e,t):t,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||Ca.cleanData(fc(r)),r.parentNode&&(n&&cc(r)&&hc(fc(r,"script")),r.parentNode.removeChild(r));return t}Ca.extend({htmlPrefilter:function(t){return t.replace(Ec,"<$1></$2>")},cleanData:function(t){for(var e,n,r,i=Ca.event.special,o=0;void 0!==(n=t[o]);o++)if(rc(n)){if(e=n[oc.expando]){if(e.events)for(r in e.events)i[r]?Ca.event.remove(n,r):Ca.removeEvent(n,r,e.handle);n[oc.expando]=void 0}n[ac.expando]&&(n[ac.expando]=void 0)}}}),Ca.fn.extend({detach:function(t){return Sc(this,t,!0)},remove:function(t){return Sc(this,t)},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(Ca.cleanData(fc(t,!1)),t.textContent="");return this}}),wc=da.createElement("input"),Tc=da.createElement("select").appendChild(da.createElement("option")),wc.type="checkbox",Sa.checkOn=""!==wc.value,Sa.optSelected=Tc.selected,(wc=da.createElement("input")).value="t",wc.type="radio",Sa.radioValue="t"===wc.value;var Oc,kc=Ca.expr.attrHandle;Ca.fn.extend({attr:function(t,e){return Za(this,Ca.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each((function(){Ca.removeAttr(this,t)}))}}),Ca.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?Ca.prop(t,e,n):(1===o&&Ca.isXMLDoc(t)||(i=Ca.attrHooks[e.toLowerCase()]||(Ca.expr.match.bool.test(e)?Oc:void 0)),void 0!==n?null===n?void Ca.removeAttr(t,e):i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):i&&"get"in i&&null!==(r=i.get(t,e))?r:null==(r=Ca.find.attr(t,e))?void 0:r)},attrHooks:{type:{set:function(t,e){if(!Sa.radioValue&&"radio"===e&&Ba(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r=0,i=e&&e.match(Ya);if(i&&1===t.nodeType)for(;n=i[r++];)t.removeAttribute(n)}}),Oc={set:function(t,e,n){return!1===e?Ca.removeAttr(t,n):t.setAttribute(n,n),n}},Ca.each(Ca.expr.match.bool.source.match(/\w+/g),(function(t,e){var a=kc[e]||Ca.find.attr;kc[e]=function(t,e,n){var r,i,o=e.toLowerCase();return n||(i=kc[o],kc[o]=r,r=null!=a(t,e,n)?o:null,kc[o]=i),r}}));var Nc=/^(?:input|select|textarea|button)$/i,jc=/^(?:a|area)$/i;Ca.extend({prop:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&Ca.isXMLDoc(t)||(e=Ca.propFix[e]||e,i=Ca.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=Ca.find.attr(t,"tabindex");return e?parseInt(e,10):Nc.test(t.nodeName)||jc.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),Sa.optSelected||(Ca.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),Ca.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){Ca.propFix[this.toLowerCase()]=this})),Sa.focusin="onfocusin"in window;var Ac=/^(?:focusinfocus|focusoutblur)$/,Dc=function(t){t.stopPropagation()},Cc;Ca.extend(Ca.event,{trigger:function(t,e,n,r){var i,o,a,c,u,s,l,f,h=[n||da],p=Ea.call(t,"type")?t.type:t,d=Ea.call(t,"namespace")?t.namespace.split("."):[];if(o=f=a=n=n||da,3!==n.nodeType&&8!==n.nodeType&&!Ac.test(p+Ca.event.triggered)&&(-1<p.indexOf(".")&&(p=(d=p.split(".")).shift(),d.sort()),u=p.indexOf(":")<0&&"on"+p,(t=t[Ca.expando]?t:new Ca.Event(p,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=d.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:Ca.makeArray(e,[t]),l=Ca.event.special[p]||{},r||!l.trigger||!1!==l.trigger.apply(n,e))){if(!r&&!l.noBubble&&!ka(n)){for(c=l.delegateType||p,Ac.test(c+p)||(o=o.parentNode);o;o=o.parentNode)h.push(o),a=o;a===(n.ownerDocument||da)&&h.push(a.defaultView||a.parentWindow||window)}for(i=0;(o=h[i++])&&!t.isPropagationStopped();)f=o,t.type=1<i?c:l.bindType||p,(s=(oc.get(o,"events")||{})[t.type]&&oc.get(o,"handle"))&&s.apply(o,e),(s=u&&o[u])&&s.apply&&rc(o)&&(t.result=s.apply(o,e),!1===t.result&&t.preventDefault());return t.type=p,r||t.isDefaultPrevented()||l._default&&!1!==l._default.apply(h.pop(),e)||!rc(n)||u&&Oa(n[p])&&!ka(n)&&((a=n[u])&&(n[u]=null),Ca.event.triggered=p,t.isPropagationStopped()&&f.addEventListener(p,Dc),n[p](),t.isPropagationStopped()&&f.removeEventListener(p,Dc),Ca.event.triggered=void 0,a&&(n[u]=a)),t.result}},simulate:function(t,e,n){var r=Ca.extend(new Ca.Event,n,{type:t,isSimulated:!0});Ca.event.trigger(r,null,e)}}),Ca.fn.extend({trigger:function(t,e){return this.each((function(){Ca.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];if(n)return Ca.event.trigger(t,e,n,!0)}}),Sa.focusin||Ca.each({focus:"focusin",blur:"focusout"},(function(n,r){var i=function(t){Ca.event.simulate(r,t.target,Ca.event.fix(t))};Ca.event.special[r]={setup:function(){var t=this.ownerDocument||this,e=oc.access(t,r);e||t.addEventListener(n,i,!0),oc.access(t,r,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this,e=oc.access(t,r)-1;e?oc.access(t,r,e):(t.removeEventListener(n,i,!0),oc.remove(t,r))}}})),Sa.createHTMLDocument=(Cc=da.implementation.createHTMLDocument("").body,Cc.innerHTML="<form></form><form></form>",2===Cc.childNodes.length),Ca.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(Sa.createHTMLDocument?((r=(e=da.implementation.createHTMLDocument("")).createElement("base")).href=da.location.href,e.head.appendChild(r)):e=da),o=!n&&[],(i=Wa.exec(t))?[e.createElement(i[1])]:(i=dc([t],e,o),o&&o.length&&Ca(o).remove(),Ca.merge([],i.childNodes)));var r,i,o};var Pc=Br.prop("set"),Lc=Br.type("string"),Mc=Br.type("func"),Rc=Br.type("object"),Ic=Br.html("decode"),qc=Br.convert("string"),Hc=Br.each("array"),Fc=Br.each("object"),Uc=Br.map(),$c=Br.noop(),Jc=Br.eq(),zc=Br.v8(),Bc=Br.broken,Wc={class:"className",style:"style.cssText",placeholder:"@placeholder",maxlength:"@maxlength",minLength:"@minLength",max:"@max",min:"@min",href:"@href",checked:"*checked",disabled:"*disabled",readonly:"*readonly",required:"*required",selected:"*selected",controls:"*controls",ended:"*ended",muted:"*muted",hidden:"*hidden",seeking:"*seeking",paused:"*paused",loop:"*loop",autoplay:"*autoplay",multiple:"*multiple",autofocus:"*autofocus",autocomplete:"*autocomplete",draggable:"*draggable",spellcheck:"*spellcheck",translate:"*translate",specified:"*specified",defer:"*defer",async:"*async"},Xc=["no","replace","append","remove","modifytext","withtext","removetext","addattr","modifyattr","removeattr"],Gc=new RegExp("</([^><]+?)>|<([^><]+?)/>|<([^><]+?)>|([^><]+)|$","g"),Vc={input:1,br:1,hr:1,img:1,meta:1,area:1,base:1,col:1,isindex:1,command:1,embed:1,keygen:1,link:1,head:1,param:1,source:1,track:1,wbr:1,path:1,circle:1,ellipse:1,line:1,rect:1,use:1,stop:1,polyline:1,polygon:1},Kc=/(\S+)=["'](.*?)["']|([\w-]+)/gi,Yc=/^\{|\}$/gi,Zc=/^\{([^'"\s]+)\}$/i,Qc=/^[\r\n\f\t\s]+|[\r\n\f\t\s]+$/gi,tu=/^default[^\s]+/i,eu=function t(e,n,r){var i=Wc[n]||n,o=Lc(r)?Ic(r):r;if(tu.test(i)){i=i.slice(7).toLowerCase();var a=e.getAttribute(i)||e[i];null!=a&&""!==a||t(e,i,o)}else"*"===i[0]?Pc(e,i.slice(1),"true"===o||!0===o):"@"===i[0]?e.setAttribute(i.slice(1),o):":"===i[0]?Ca(e).on(i.slice(1),o):Pc(e,i,o)},nu=function(t,e,n){if(":"===e[0]&&Mc(n))Ca(t).off(e.slice(1),n);else if(t[e]&&!delete t[e])try{t[e]=null}catch(t){}else t.removeAttribute(e)},ru=function(t,e,n){var r,i=e;return Zc.test(e)&&(i=void 0!==(r=n[e.replace(Yc,"")])?r:e),":"===t[0]&&(i=Mc(r)?r:Function("event",qc(e))),i},iu=function(n,t){var r={};return Fc(t,(function(t,e){n[e]===t&&(r[e]=1)})),r},ou=[$c,function(t){var e=t.s;e&&e.parentNode&&e.parentNode.replaceChild(t.n,e)},function(t){var e=t.s;e&&e.appendChild(t.n)},function(t){var e=t.s;e.parentNode&&e.parentNode.removeChild(e)},function(t){var e=t.s;if(t.isSlot)return e.parentNode.replaceChild(t.n,e);e.textContent=Ic(t.c)},function(t){var e=t.s;if(t.isSlot)return e.parentNode.replaceChild(t.n,e);e.textContent=Ic(t.c)},function(t){t.s.innerHTML=t.n.innerHTML},function(n){Fc(n.a,(function(t,e){eu(n.s,e,t)}))},function(t){var n=t.s,r=iu(t.o,t.a);Fc(t.o,(function(t,e){e in r||nu(n,e,t)})),Fc(t.a,(function(t,e){e in r||eu(n,e,t)}))},function(n){Fc(n.a,(function(t,e){nu(n.s,e,t)}))}],au=function(t,e){var n=Lc(t)?t:"";if(n&&e){var r={},i=n.trim().split("::");return r.name=i[0],r.path=i[1],r.root=e,r}},cu={treeDiff:function(t,e,n,r,i,o){if(void 0===t)n.unshift(this.createPatch(r,e,2,o));else if(void 0===e)n.push(this.createPatch(t,0,3,o));else if(t.tagName===e.tagName){if(e.isSlot||t.isSlot)return n.push(this.createPatch(t,e,5,o)),n;if(Jc(t.attributes,e.attributes)||(t.attributes&&e.attributes?n.push(this.createPatch(t,e,8,o)):t.attributes?e.attributes||n.push(this.createPatch(t,e,9,o)):n.push(this.createPatch(t,e,7,o))),t.text!==e.text)return t.text&&e.text&&t.text!==e.text?n.push(this.createPatch(t,e,4,o)):t.text?e.text||n.push(this.createPatch(t,e,6,o)):n.push(this.createPatch(t,e,5,o)),n;var a,c=t.child.length,u=e.child.length;if(c||u)if(c<u){for(a=c;a<u;a++)n.push(this.createPatch(t,e.child[a],2,o));for(a=c;a--;)this.treeDiff(t.child[a],e.child[a],n,t,e,o)}else if(u<c){for(a=c-1;u<=a;a--)n.push(this.createPatch(t.child[a],0,3,o));for(a=u;a--;)this.treeDiff(t.child[a],e.child[a],n,t,e,o)}else for(a=Math.max(c,u);a--;)this.treeDiff(t.child[a],e.child[a],n,t,e,o)}else t.tagName!==e.tagName&&n.push(this.createPatch(t,e,1,o));return n},applyPatch:function(e,t){Hc(Uc(t,function(t){return t.path=t.s,t.s=this.mapTreeNode(e,t.s),t}.bind(this)),(function(t){ou[t.t].call(e,t)}))},mapTreeNode:function(t,e){for(var n,r=0,i=t.children;r<e.length&&i[e[r]];r++)i=(n=i[e[r]]).children;return n},createSelector:function(t){for(var e=[t.i];t=t.parent;)void 0!==t.i&&e.unshift(t.i);return e},createPatch:function(t,e,n,r){var i,o=this.createSelector(t),a=e.isSlot;switch(Xc[n]){case"replace":i={t:1,s:o,n:this.createDOMElement(e,r)};break;case"append":i={t:2,s:o,n:this.createDOMElement(e,r)};break;case"remove":i={t:3,s:o};break;case"modifytext":i={t:4,s:o,c:e.text,isSlot:a},a&&(i.n=this.createDOMElement(e,r));break;case"withtext":i={t:5,s:o,c:e.text,isSlot:a},a&&(i.n=this.createDOMElement(e,r));break;case"removetext":i={t:6,s:o,n:this.createDOMElement(e,r)};break;case"addattr":i={t:7,s:o,a:e.attributes};break;case"modifyattr":i={t:8,s:o,a:e.attributes,o:t.attributes};break;case"removeattr":i={t:9,s:o,a:t.attributes};break;default:i={t:0}}return i},createTreeFromHTML:function(t,o){var a,e={tagName:"__CUBEC_VIEWROOT__",isRoot:!0,child:[]},c=e,u=e.child;return t.replace(Gc,function(t,e,n,r,i){return t&&t.replace(Qc,"")&&(e?(c=c.parent,u=c.child):n?((a=this.createObjElement(n,o)).i=u.length,u.push(a),a.parent=c):r?((a=this.createObjElement(r,o)).i=u.length,u.push(a),a.parent=c,a.tagName in Vc||(u=(c=a).child)):i&&i.trim()&&(c.text=i)),t}.bind(this)),e},createObjElement:function(t,e){var n=t.split(" "),r=Rc(e)?e:{},i=n.shift(),o=n.join(" "),a={tagName:i,child:[]};if("slot"===i&&(a.isSlot=!0),o){for(var c,u,s={};c=Kc.exec(o);)c[1]?s[c[1]]=ru(c[1],c[2],r):u=u?(s[u]=ru(u,c[0],r),0):c[0];a.attributes=s}return a},createDOMElement:function(t,e){var n=document.createElement(t.tagName);if(e&&t.attributes&&t.attributes.ref&&(e.refs[t.attributes.ref]=n),Fc(t.attributes,(function(t,e){eu(n,e,t)})),e&&t.isSlot){var r=au(t.text,n);return r&&e._ass(Bc).push(r),n}return t.text&&(n.textContent=Ic(t.text)),t.child.length&&Hc(t.child,(function(t){n.appendChild(this.createDOMElement(t,e))}),this),n}},uu=Object.freeze(zc(cu)),su=0,lu=Br.broken,fu=Br.doom(),hu=Br.doom("cache"),pu=Br.lock(),du=Br.extend(),vu=Br.some(),mu=Br.each("array"),gu=Br.each("object"),yu=Br.slice(),bu=Br.type("func"),xu=Br.type("string"),_u=Br.type("number"),Eu=Br.type("array"),wu=Br.type("object"),Tu=Br.type("elm"),Su=Br.type("arraylike"),Ou=Br.prop("get"),ku=Br.size(),Nu=Br.ayc(),ju=Br.noop(),Au=Br.link(),Du=Br.clone(),Cu=Br.define(),Pu=Br.convert("string"),Lu=Br.event("on"),Mu=Br.event("off"),Ru=Br.event("emit"),Iu=Br.event("has"),qu=Br.fireEvent();function Hu(t){if(!Tu(t)&&!Su(t))throw new TypeError("el must be typeof DOMElement or NodeList collections -> not "+t);return!0}function Fu(t){return!t}function Uu(e){return function(){var t=qu(e,"beforeRender",arguments);return!(t&&t.length&&vu(t,Fu))&&arguments}}function $u(e,n){return function(t){return n.apply(e,t)}}function Ju(e){return function(t){return t!==lu?(e.root._vid=e._vid,e.emit("completeRender",t)):e.emit("catch")}}function zu(e,t){var n=Uu(e),r=$u(e,t),i=Ju(e);return Au(n,(function(t){return t&&Nu(Au((function(){return t}),r,i)),e}))}function Bu(e,t){return function(){try{return t.apply(e,arguments)}catch(t){if(console.error(ei.VIEW_CUSTOM_RENDER,t,arguments),!Iu(e,"catch"))throw t;return lu}}}function Wu(n,t){if(bu(t)){var r=zu(n,t.bind(n)),i=n._asb(lu);Cu(n,"render",{get:function(){return r},set:function(t){if(bu(t)){var e=n.render;r=zu(n,Bu(n,t.bind(n))),ku(i)&&gu(i,(function(t){Ji.call(t,"change",e),$i.call(t,"change",r)}))}return r},enumerable:!1,configurable:!1})}return n}function Xu(t,e){var n=t._ass(lu);t&&n.length&&mu(n.splice(0,n.length),Gu.bind(t,e))}function Gu(t,e,n){var r=Ou(this,e.name);if(r){var i="_cslot-".concat(this.name||"v".concat(this._vid)),o=t[0],a=e.path&&wu(o)?[Ou(o,e.path)]:t;return e.root.setAttribute("id",i),(r.constructor===Ku&&r._isExtender?function(){var t=r({root:e.root});t.render.apply(t,a)}:r instanceof Ku&&_u(r._vid)?function(){r.root?(r.root.setAttribute("id",i),e.root.parentNode.replaceChild(r.root,e.root),r.render.apply(r,a)):r.mount.apply(r,[e.root].concat(a))}:bu(r)?function(){r.apply(this,[e.root].concat(a))}.bind(this):xu(r)||_u(r)?function(){e.root.textContent=r}:function(){e.root.textContent=""})()}}function Vu(t,e,n){return'<ct id="_c-'.concat(e||"v"+n,'">').concat(t,"</ct>")}Ca.fn.render=function(i,o,a,c){return this.each((function(t,e){var n=uu.createTreeFromHTML(i,a);if(e._vid===o._vid&&o.axml)return uu.applyPatch(e,uu.treeDiff(o.axml,n,[],null,null,o),o.axml=n),Xu(o,c),o;e._destory=function(){return o.destroy()};var r=uu.createDOMElement(o.axml=n,o).firstElementChild;return Xu(o,c),e.appendChild(r,e.innerHTML=""),o}))};var Ku=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.refs={};var e={},n=[];oi(this,{_vid:su++,_asb:function(t){return t===lu?e:{}},_ass:function(t){return t===lu?n:[]}}),t=du(Du(ha.DEFAULT_OPTION),t||{});var r=pu(wu(t.props)?t.props:{}),i=t.root,o=t.render,a=t.events,c=t.name,u=t.connect,s=Eu(u)?u:u instanceof yo||u instanceof la?[u]:[],l=t.template;o=bu(o)?Bu(this,o):(l=xu(l)?(t.cache?hu:fu)(Vu(l.trim(),c,this._vid),r):bu(l)?l:ju)!=ju?function(){var t=yu(arguments);try{return t[0]instanceof yo&&(t[0]=t[0].get()),t[0]instanceof la&&(t[0]=t[0].toChunk()),this.directRender?(this.axml=null,this.root.innerHTML=l.apply(this,t)||""):Ca(this.root).render(l.apply(this,t),this,r,t),arguments}catch(t){if(console.error(ei.VIEW_RENDER,t,arguments),!Iu(this,"catch"))throw t;return lu}}:ju,i&&Hu(i)?(this.root=i,gu(a,ni,Wu(this,o)),this.connect.apply(this,s)):(a&&a.init&&(this.on("init",a.init),delete a.init),this.mount=function(t){return Hu(t)&&(this.root=i=t,gu(a,ni,Wu(this,o)),this.connect.apply(this,s),1 in arguments&&this.render.apply(this,yu(arguments,1)),delete this.mount),this}),du(this,t,ha.IGNORE_KEYWORDS).emit("init").off("init")},Yu=1,Zu={};function Qu(t){t.data&&t.data.iid&&(Zu[t.data.iid]=!0)}function ts(t){t.data&&t.data.iid&&(Zu[t.data.iid]=!1,Ca(t.target).trigger("input"))}function es(t){var e=0;if(null!=t.selectionStart)e=t.selectionStart;else if(document.selection){t.focus();var n=document.selection.createRange();n.moveStart("character",-t.value.length),e=n.text.length}return e}function ns(t,e){if(t.createTextRange){var n=t.createTextRange();return n.move("character",e),n.select()}return t.selectionStart?t.setSelectionRange(e,e,t.focus()):t.focus()}function rs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Ku.prototype={constructor:Ku,inject:function(t){var e=t||this.root;return e._vid=Ku._vid,this.axml=uu.createTreeFromHTML(e.innerHTML),this},on:function(t,a){return bu(a)&&mu(Pu(t).split("|"),(function(t){var e=t.split(":");if(1<e.length)if("input"===e[0]){var n=Yu++,r={iid:n},i=function(t){if(Zu[n])return!1;t.target.focus&&t.target.focus();var e=es(t.target);a.apply(this,arguments),e&&ns(t.target,e)}.bind(this);a._fn=i,Ca(this.root).on("compositionstart",r,Qu).on("compositionend",r,ts).on(e[0],e[1],i)}else{var o=a.bind(this);a._fn=o,Ca(this.root).on(e[0],e[1],o)}else Lu(this,t,a)}),this),this},off:function(t,n){return t&&xu(t)?mu(t.split("|"),(function(t){var e=t.split(":");1<e.length?Ca(this.root).off(e[0],e[1],n&&n._fn||n):Mu(this,t,n)}),this):(Ca(this.root).off(),Mu(this)),this},emit:function(t,n){var e=Pu(t),r=e.split(":");return 2<r.length?(mu(e.split("|"),(function(t){var e=t.split(":");Ca(this.root).find(e[1]).trigger(e[0],n)}),this),this):1<r.length?(Ca(this.root).find(r[1]).trigger(r[0],n),this):Ru(this,t,n)},connect:function(){var t,e=this,n=this._asb(lu);return(t=Su(arguments[0])?arguments[0]:yu(arguments)).length&&mu(t,(function(t){(t instanceof yo||t instanceof la)&&null!=t._mid&&(n[t._mid]||(n[t._mid]=t,$i.call(t,"change",e.render)))})),this},disconnect:function(){var t,e=this,n=this._asb(lu);return(t=Su(arguments[0])?arguments[0]:yu(arguments)).length&&mu(t,(function(t){(t instanceof yo||t instanceof la)&&null!=t._mid&&n[t._mid]&&(delete n[t._mid],Ji.call(t,"change",e.render))})),this},destroy:function(t){var e=this;this.emit("beforeDestroy"),this.root._vid=void 0;return Ca(e.root).off(),e.root.innerHTML="",gu(e._asb(lu),(function(t){return e.disconnect(t)})),e.root.parentNode&&t&&e.root.parentNode.removeChild(e.root),void e.emit("destroy",delete e.root)}};var is=rs;function os(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function as(t,e,n){return e&&os(t.prototype,e),n&&os(t,n),t}var cs=as,us=[],ss=window.history,ls=/\/:([^\s/]+)/g,fs="/([^\\s\\/]+)",hs=Br.merge(),ps=Br.type("def"),ds=Br.each(),vs=Br.map(),ms=Br.string("trim"),gs=Br.keys(),ys=Br.slice(),bs=Br.combined(),xs=Br.type("string"),_s=Br.type("array"),Es=Br.noop(),ws=Br.param("stringify"),Ts=Br.convert("number"),Ss=Br.cloneDeep(),Os=Br.param("parse");function ks(t){return t&&t!==location.pathname&&t!==location.pathname+"/"}function Ns(){return!0}function js(e,t,n,r,i){var o=!(5<arguments.length&&void 0!==arguments[5])||arguments[5],a=ks(t);if((!o||a)&&this._status){var c,u,s,l,f,h=this,p=gs(e.mapping);for(r=ps(r,"Object")?r:xs(r)?JSON.parse(r):{},c=0,u=p.length;c<u;c++)if((s=e.mapping[p[c]]).test(t)){l=p[c],f=bs(e.params[l],ys(s.exec(t),1));break}if(l){var d=xs(n)?("?"!==n.charAt(0)?"?":"")+n:ps(n,"Object")?"?"+ws(n):"";if(n=ps(n,"Object")?n:Os(n),e.beforeActions(t,f,n,r)){var v=e.routes[l];ds(vs(v,(function(t){return e.actions[t]||Es})),(function(t){return t.call(h,f,n,r)})),i||ss[a?"pushState":"replaceState"](r,null,t+d),e.completedActions(t,f,n,r)}}}return this}var As={routes:{},actions:{},beforeActions:Ns,completedActions:Es},Ds=(function(){function o(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};is(this,o);var n=this,i=hs(Ss(As),t);this._status=0,this._assert=function(t){if(t===us)return i};var e,r={};(e=vs(i.elements,(function(t){return"click:"+t})).join("|"))&&(r[e]=function(t){t.preventDefault();var e=t.currentTarget;return n.to(e.to||e.getAttribute("to")||e.getAttribute("href"),e.query||e.getAttribute("query"),e.state||e.getAttribute("state"),0,1)},this._delegator=new Ku({root:document.documentElement,render:Es,events:r})),i.mapping={},i.params={},i.routes=vs(i.routes,(function(t){return _s(t)?t:[t]})),ds(i.routes,(function(t,e){var n=[],r=ms(e).replace(ls,(function(t,e){return n.push(e),fs}));i.params[e]=n,i.mapping[e]=RegExp("^"+r+"[/]?$")})),window.addEventListener("popstate",function(t){return js.call(this,i,location.pathname,location.search,t.state,!0,!1,!0)}.bind(this))}return cs(o,[{key:"to",value:function(t,e,n,r,i){return js.call(this,this._assert(us),t,e,n,r,i)}},{key:"back",value:function(){return ss.back(),this}},{key:"go",value:function(t){var e=Ts(t);return e&&ss.go(e),this}},{key:"start",value:function(t,e,n){return this._status?this:(this._status=1,t&&xs(t)?this.to(t,e,n,!0,!1):!1===t?this:this.to(location.pathname,location.search,{},!0,!1))}},{key:"stop",value:function(){return this._status=0,this}},{key:"resolve",value:function(t){return this._status&&ss.replaceState(ps(t,"Object")?t:{_resolveTimeStamp:Date.now()},null,location.href),this}}]),o})(),Cs=Br.type("required"),Ps=Br.type("func"),Ls=Br.type("int"),Ms=Br.type("array"),Rs=Br.type("float"),Is=Br.type("string"),qs=Br.type("object"),Hs=Br.type("number"),Fs=Br.type("primitive"),Us=Br.type("arraylike"),$s=Br.type("boolean"),Js=Br.v8(),zs=function(e,t){return function(t){return e(t)}},Bs=function(e){return function(t){return t instanceof e}},Ws={isRequired:zs(Cs,"required"),isFunc:zs(Ps,"function"),isInt:zs(Ls,"int"),isArray:zs(Ms,"array"),isFloat:zs(Rs,"float"),isString:zs(Is,"string"),isObject:zs(qs,"object"),isNumber:zs(Hs,"number"),isArrayLike:zs(Us,"arrayLike"),isPrimitive:zs(Fs,"primitive"),isBool:zs($s,"boolean"),isModel:zs(Bs(yo),"model"),isAtom:zs(Bs(la),"atom")},Xs=Object.freeze(Js(Ws));function Gs(e){return function(t){return new e(t||{})}}var Vs=Br.merge();function Ks(n){return function(e){var t=function(t){return new n(Vs(e,t||{}))};return t.constructor=n,t._isExtender=!0,t}}var Ys=Object.create(null);Ys.version="1.4.9",Ys.struct=Br,Ys.verify=Xs,Ys.atom=Gs(la),Ys.model=Gs(yo),Ys.view=Gs(Ku),Ys.router=Gs(Ds),Ys.atom.extend=Ks(la),Ys.model.extend=Ks(yo),Ys.view.extend=Ks(Ku),Ys.router.extend=Ks(Ds);var Zs=Br,Qs=Xs,tl=Ys.atom,el=Ys.model,nl=Ys.view,rl=Ys.router,il=Object.freeze(Ys);t.struct=Zs,t.verify=Qs,t.atom=tl,t.model=el,t.view=nl,t.router=rl,t.default=il,Object.defineProperty(t,"__esModule",{value:!0})}));
